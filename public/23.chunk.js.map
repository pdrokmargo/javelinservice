{"version":3,"sources":["C:/angularprojects/javelin/src/app/auth/authentication-routing.module.ts","C:/angularprojects/javelin/src/app/auth/authentication.module.ts","C:/angularprojects/javelin/src/app/auth/login/login.component.html","C:/angularprojects/javelin/src/app/auth/login/login.component.ts"],"names":[],"mappings":"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","file":"23.chunk.js","sourcesContent":["import { PageLoginComponent } from \"./login/login.component\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nexport const AuthRoutes: Routes = [\n  {\n    path: \"\",\n    children: [\n      { path: \"\", redirectTo: \"login\", pathMatch: \"full\" },\n      { path: \"login\", component: PageLoginComponent }\n    ]\n  }\n];\n\nexport const AuthRoutingModule = RouterModule.forChild(AuthRoutes);\n\n\n\n// WEBPACK FOOTER //\n// C:/angularprojects/javelin/src/app/auth/authentication-routing.module.ts","import { CommonModule } from '@angular/common';\nimport { JsonpModule, HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\nimport { AuthenticationService } from './authentication.service';\nimport { AuthRoutingModule } from './authentication-routing.module';\nimport { PageLoginComponent } from './login/login.component';\nimport { NgModule } from '@angular/core';\nimport {\n    MatIconModule,\n    MatInputModule,\n    MatButtonModule\n  } from '@angular/material';\n\n@NgModule({\n    imports: [\n        HttpModule,\n        JsonpModule,\n        AuthRoutingModule,\n        FormsModule,\n        CommonModule,\n        MatIconModule,\n        MatInputModule,\n        MatButtonModule        \n    ],\n    exports: [],\n    declarations: [\n        PageLoginComponent\n    ],    \n    providers: [\n        AuthenticationService\n    ]\n})\nexport class AuthenticationModule { }\n\n\n\n// WEBPACK FOOTER //\n// C:/angularprojects/javelin/src/app/auth/authentication.module.ts","module.exports = \"<div class=\\\"page-auth\\\">\\n  <div class=\\\"main-body\\\">\\n    <!-- <mat-progress-bar *ngIf=\\\"btn_text == 'Procesando...'\\\" [color]=\\\"'primary'\\\" [mode]=\\\"'indeterminate'\\\" [value]=\\\"50\\\" [bufferValue]=\\\"75\\\"></mat-progress-bar> -->\\n    <div class=\\\"card card-white\\\" style=\\\"margin: 0\\\">\\n      <div class=\\\"card-content\\\">\\n        <div class=\\\"logo\\\">\\n          <a [routerLink]=\\\"['/']\\\">Iniciar sesi칩n</a>\\n        </div>\\n\\n        <form name=\\\"form\\\" class=\\\"md-form-auth form-validation\\\" (ngSubmit)=\\\"loginForm.form.valid && login()\\\" #loginForm=\\\"ngForm\\\" novalidate>\\n          <fieldset>\\n            <div class=\\\"form-group\\\">\\n              <mat-form-field class=\\\"full-width mat-icon-left\\\">\\n                <input required matInput type=\\\"text\\\" name=\\\"username\\\" placeholder=\\\"Usuario\\\" [(ngModel)]=\\\"model.username\\\" #username=\\\"ngModel\\\">\\n                <mat-icon matSuffix class=\\\"material-icons\\\">account_box</mat-icon>\\n              </mat-form-field>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <mat-form-field class=\\\"full-width mat-icon-left\\\">\\n                <mat-icon matSuffix class=\\\"material-icons\\\">lock_outline</mat-icon>\\n                <input required matInput type=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"Contrase침a\\\" [(ngModel)]=\\\"model.password\\\"  #password=\\\"ngModel\\\">\\n              </mat-form-field>\\n            </div>\\n            <div *ngIf=\\\"error\\\" >{{error}}</div>\\n            <button mat-raised-button type=\\\"submit\\\" color=\\\"primary\\\" class=\\\"float-right\\\">{{btn_text}}</button>\\n          </fieldset>\\n        </form>\\n\\n        <!--div class=\\\"additional-info\\\">\\n          <a [routerLink]=\\\"['/extra/sign-up']\\\">Sign up</a>\\n          <span class=\\\"divider-h\\\"></span>\\n          <a [routerLink]=\\\"['/extra/forgot-password']\\\">Forgot your password?</a>\\n        </div-->\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/angularprojects/javelin/src/app/auth/login/login.component.html\n// module id = ../../../../../src/app/auth/login/login.component.html\n// module chunks = 23","import { AuthenticationService } from \"./../authentication.service\";\nimport { Router } from \"@angular/router\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { MatSnackBar, MatIconModule, MatFormFieldModule } from \"@angular/material\";\n\n@Component({\n  selector: \"my-page-login\",\n  styles: [],\n  templateUrl: \"./login.component.html\"\n})\nexport class PageLoginComponent implements OnInit {\n  model: any = {};\n  error = '';\n  private btn_text = '';\n  private views = [];\n\n  constructor(\n    private router: Router,\n    private service: AuthenticationService,\n    public snackBar: MatSnackBar,\n  ) { }\n\n  ngOnInit() {\n\n    this.btn_text = 'Ingresar';\n    this.service.logout();\n  }\n\n  login(): void {\n    this.btn_text = 'Procesando...';\n\n    this.service\n      .login(this.model.username, this.model.password)\n      .subscribe(data => {\n\n        this.service.GET(`login`).subscribe(res => {\n\n          console.log(res);\n\n          if (!res['usercompany']) {\n            this.snackBar.open('Usted no tiene una empresa asignada.', 'Error', {\n              duration: 3500,\n            });\n            return false;\n          }\n          this.views = res['usercompany'][\"userprofile\"][\"privileges\"];\n          localStorage.setItem('view', JSON.stringify(this.views));\n          localStorage.setItem('objUser', JSON.stringify(res));\n          let link = ['/dashboard'];\n          this.router.navigate(link);\n        }, err => {\n          this.snackBar.open('El usuario o la contrase침a son incorrectos.', 'Error', {\n            duration: 3500,\n          });\n        });\n\n      }, error => {\n        this.snackBar.open('El usuario o la contrase침a son incorrectos.', 'Error', {\n          duration: 3500,\n        });\n      });\n  }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// C:/angularprojects/javelin/src/app/auth/login/login.component.ts"],"sourceRoot":"webpack:///"}