webpackJsonp([8],{1422:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"DeliveryContractsModule",function(){return u});var r=e(5),i=e(2),o=e(32),a=e(26),d=e(276),c=e(593),s=e(1437),l=e(1456),p=e(1457),m=[{path:"",component:s.a}],u=function(){function DeliveryContractsModule(){}return DeliveryContractsModule=r.a([e.i(i.NgModule)({imports:[o.CommonModule,a.g.forChild(m),d.a,c.a.forRoot()],declarations:[s.a,l.a,p.a]})],DeliveryContractsModule)}()},1437:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var r=e(5),i=e(2),o=e(594),a=function(t){function DeliveryContractsComponent(){return t.call(this)||this}return r.c(DeliveryContractsComponent,t),DeliveryContractsComponent.prototype.ngOnInit=function(){},DeliveryContractsComponent=r.a([e.i(i.Component)({selector:"delivery-contracts-cmp",template:e(1489),styles:[]}),r.b("design:paramtypes",[])],DeliveryContractsComponent)}(o.a)},1456:function(t,n,e){"use strict";e.d(n,"a",function(){return v});var r=e(5),i=e(2),o=e(31),a=(e.n(o),e(18)),d=e(26),c=e(72),s=e(20),l=e(1437),p=e(113),m=(e.n(p),e(115)),u=e(596),b=e(598),h=e(597),v=function(t){function DeliveryContractsActionComponent(n,e,r,i,o,a,d){var c=t.call(this)||this;return c.snackBar=n,c.route=e,c.router=r,c.loaderService=i,c.helperService=o,c.comp=a,c.dialog=d,c.contract_number="",c.contract_start_date="",c.contract_expiration_date="",c.arrPopulation_type=[],c.arrPerauth_char_type=[],c.booEvento=!1,c.booCapita=!1,c.booPgp=!1,c.customers={},c._conditional_alerts=[],c._pharmadrugs=[],c._ips=[],c._model={delivery_contracts:{state:!0,pharmadrug_monopoly:!1,pharmadrug_control:!1,cooled_products:!1}},c}return r.c(DeliveryContractsActionComponent,t),DeliveryContractsActionComponent.prototype.ngOnInit=function(){this.clean(),this.getCollection(),void 0!==this.numId&&this.getDataById()},DeliveryContractsActionComponent.prototype.getCollection=function(){var t=this;this.helperService.POST("/api/collections",["POPULATION_TYPE","PREAUTH_CHAR_TYPE"]).subscribe(function(n){var e=n.json();t.arrPopulation_type=e.POPULATION_TYPE,t.arrPerauth_char_type=e.PREAUTH_CHAR_TYPE},function(t){})},DeliveryContractsActionComponent.prototype.save=function(){var t=this;switch(this.booEvento&&(this.objEvent.contract_number=this.contract_number,this.objEvent.contract_expiration_date=this.contract_expiration_date,this.objEvent.contract_start_date=this.contract_start_date),this.booCapita||(this.objCapita.contract_number=this.contract_number,this.objCapita.contract_expiration_date=this.contract_expiration_date,this.objCapita.contract_start_date=this.contract_start_date),this.booPgp||(this.objPgp.contract_number=this.contract_number,this.objPgp.contract_expiration_date=this.contract_expiration_date,this.objPgp.contract_start_date=this.contract_start_date),this.model.pharmadrugs=JSON.stringify(this._pharmadrugs||[]),this.model.ips=this._ips||[],this.model.conditional_alerts=JSON.stringify(this._conditional_alerts||[]),this.model.event=JSON.stringify(this.objEvent||{}),this.model.pgp=JSON.stringify(this.objPgp||{}),this.model.capita=JSON.stringify(this.objCapita||{}),this.booEvento||(this.model.event=null),this.booCapita||(this.model.capita=null),this.booPgp||(this.model.pgp=null),this.loaderService.display(!0),this.strAction){case"Guardar":this.helperService.POST("/api/delivery-contracts",this.model).subscribe(function(n){var e=n.json();e.store&&(t.snackBar.open(e.message,"Guardado",{duration:4e3}),t.goList())},function(n){t.snackBar.open(n.message,"Guardado",{duration:4e3}),t.loaderService.display(!1)});break;case"Actualizar":this.helperService.PUT("/api/delivery-contracts/"+this.numId,this.model).subscribe(function(n){var e=n.json();e.update&&(t.snackBar.open(e.message,"Actualización",{duration:4e3}),t.goList())},function(n){t.snackBar.open(n.message,"Actualización",{duration:4e3}),t.loaderService.display(!1)});break;case"Eliminar":this.helperService.DELETE("/api/delivery-contracts/"+this.numId).subscribe(function(n){var e=n.json();e.delete&&(t.snackBar.open(e.message,"Eliminación",{duration:4e3}),t.goList())},function(n){t.snackBar.open(n.message,"Eliminación",{duration:4e3}),t.loaderService.display(!1)})}},DeliveryContractsActionComponent.prototype.getDataById=function(){var t=this;this.loaderService.display(!0),this.helperService.GET("/api/delivery-contracts/"+this.numId).subscribe(function(n){var e=n.json();t.model=e.data;var r=[];t.model.contract_point.forEach(function(n,e){n.config=JSON.parse(n.config),r.push({id:n.delivery_points.id,name:n.delivery_points.name,event:n.config.event||!1,capita:n.config.capita||!1,pgp:n.config.pgp||!1}),t.model.contract_point.length-1==e&&(t.model.delivery_points=r)}),t.customers=t.model.customers,t._pharmadrugs=JSON.parse(t.model.pharmadrugs),t._conditional_alerts=JSON.parse(t.model.conditional_alerts),t._ips=t.model.ips,t.booEvento=!0,t.objEvent=JSON.parse(t.model.event),t.booPgp=!0,t.objPgp=JSON.parse(t.model.pgp),t.booCapita=!0,t.objCapita=JSON.parse(t.model.capita),t.loaderService.display(!1)},function(n){console.log(n),t.loaderService.display(!1)})},DeliveryContractsActionComponent.prototype.clean=function(){this.model={},this.model.state=!0,this._pharmadrugs=[],this._conditional_alerts=[],this.objEvent={},this.objPgp={},this.objCapita={}},DeliveryContractsActionComponent.prototype.goList=function(){this.comp.openList()},DeliveryContractsActionComponent.prototype.openModalCostumers=function(){var t=this;this.modalCostumer=this.dialog.open(m.h,{hasBackdrop:!1,data:{title:"Clientes"}}),this.modalCostumer.afterClosed().pipe(e.i(p.filter)(function(t){return t})).subscribe(function(n){t.model.customer_id=n.id,t.customers=n})},DeliveryContractsActionComponent.prototype.openModalPharmaceutical=function(){var t=this;this.modalPharmaceutical=this.dialog.open(m.f,{hasBackdrop:!1,data:{title:"Medicamentos"}}),this.modalPharmaceutical.afterClosed().pipe(e.i(p.filter)(function(t){return t})).subscribe(function(n){n.pharmadrug_id=n.id,t._pharmadrugs||(t._pharmadrugs=[]),0==t._pharmadrugs.length&&(n.event=!1,n.capita=!1,n.pgp=!1,n.fare="",t._pharmadrugs.push(n));var e=!1;t._pharmadrugs.forEach(function(r,i){r.name==n.name&&(e=!0),t._pharmadrugs.length==i+1&&(e||(n.event=!1,n.capita=!1,n.pgp=!1,n.fare="0",t._pharmadrugs.push(n)))})})},DeliveryContractsActionComponent.prototype.openModalDeliveryPoints=function(){var t=this;this.modalDeliveryPoints=this.dialog.open(u.a,{hasBackdrop:!1,data:{title:"Puntos de dispensación"}}),this.modalDeliveryPoints.afterClosed().pipe(e.i(p.filter)(function(t){return t})).subscribe(function(n){n.delivery_point_id=n.id,t.model.delivery_points||(t.model.delivery_points=[]),0==t.model.delivery_points.length&&(n.event=!1,n.capita=!1,n.pgp=!1,t.model.delivery_points.push(n));var e=!1;t.model.delivery_points.forEach(function(r,i){r.name==n.name&&(e=!0),t.model.delivery_points.length==i+1&&(e||(n.event=!1,n.capita=!1,n.pgp=!1,t.model.delivery_points.push(n)))})})},DeliveryContractsActionComponent.prototype.deleteDeliveryPoints=function(t){this.model.delivery_points.splice(this._ips.indexOf(t),1)},DeliveryContractsActionComponent.prototype.deletePharmadrug=function(t){this._pharmadrugs.splice(this._pharmadrugs.indexOf(t),1)},DeliveryContractsActionComponent.prototype.openModalIpsNetwork=function(){var t=this;this.modalIpsNetwork=this.dialog.open(b.a,{hasBackdrop:!1,data:{title:"Red adscrita"}}),this.modalIpsNetwork.afterClosed().pipe(e.i(p.filter)(function(t){return t})).subscribe(function(n){if(console.log(n),0==t._ips.length)t._ips.push(n);else{var e=!1;t._ips.forEach(function(r,i){r.value==n.value&&(e=!0),t._ips.length-1==i&&(e||t._ips.push(n))})}})},DeliveryContractsActionComponent.prototype.deleteIps=function(t){this._ips.splice(this._ips.indexOf(t),1)},DeliveryContractsActionComponent.prototype.openModalGeolocation=function(){var t=this;this.modalGeolocation=this.dialog.open(h.a,{hasBackdrop:!1,width:"400px",data:{title:"Ubicación"}}),this.modalGeolocation.afterClosed().pipe(e.i(p.filter)(function(t){return t})).subscribe(function(n){if(n){void 0!=t.objCapita.detailed_capita&&null!=t.objCapita.detailed_capita||(t.objCapita.detailed_capita=[],t.objCapita.detailed_capita.push(n));var e,r=!1,i=!1;t.objCapita.detailed_capita.forEach(function(o,a){o.city.id==n.city.id&&(r=!0,o.state||(i=!0,e=o)),t.objCapita.detailed_capita.length-1==a&&(r||t.objCapita.detailed_capita.push(n),i&&(e.state=!0))})}})},DeliveryContractsActionComponent.prototype.deleteDetailedCapita=function(t){t.state=!1},DeliveryContractsActionComponent.prototype.activeperauth_length=function(){this.objEvent.perauth||(this.objEvent.perauth_length="",this.objEvent.perauth_char_type="")},DeliveryContractsActionComponent.prototype.clearEvent=function(){this.booEvento&&(this.objEvent={},this._pharmadrugs.forEach(function(t){t.fare="",t.event=!1}))},DeliveryContractsActionComponent.prototype.clearCapita=function(){this.booCapita&&(this.objCapita={},this._pharmadrugs.forEach(function(t){t.capita=!1}))},DeliveryContractsActionComponent.prototype.clearPgp=function(){this.booPgp&&(this.objPgp={},this._pharmadrugs.forEach(function(t){t.pgp=!1}))},DeliveryContractsActionComponent=r.a([e.i(i.Component)({selector:"delivery-contracts-action-cmp",template:e(1487),styles:[]}),r.b("design:paramtypes",[a.c,d.b,d.a,s.a,s.b,l.a,a.d])],DeliveryContractsActionComponent)}(c.a)},1457:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var r=e(5),i=e(2),o=e(31),a=(e.n(o),e(26)),d=e(71),c=e(20),s=e(1437),l=function(t){function DeliveryContractsListComponent(n,e,r,i){var o=t.call(this,e,r)||this;return o.router=n,o.loaderService=e,o.helperService=r,o.comp=i,o.urlApi="/api/delivery-contracts",o}return r.c(DeliveryContractsListComponent,t),DeliveryContractsListComponent.prototype.ngOnInit=function(){this.getAll()},DeliveryContractsListComponent.prototype.CUD=function(t,n){switch(this.comp.strAction=t,t){case"Guardar":this.comp.id=void 0;break;default:this.comp.id=n.id}this.comp.openActions()},DeliveryContractsListComponent=r.a([e.i(i.Component)({selector:"delivery-contracts-list-cmp",template:e(1488),styles:[]}),r.b("design:paramtypes",[a.a,c.a,c.b,s.a])],DeliveryContractsListComponent)}(d.a)},1487:function(t,n){t.exports='<form #modelForm="ngForm" autocomplete="off">\r\n\r\n    <div class="col-sm-12">\r\n\r\n        <div class="row">\r\n            <div class="col-sm-12 margin-bottom-40" [class.btn-action-container]="booActive">\r\n                <button type="button" md-raised-button color="primary" (click)="goList()" class="btn-w-md no-margin-left">\r\n                    <md-icon>keyboard_arrow_left</md-icon> Regresar\r\n                </button>\r\n            </div>\r\n            \x3c!-- name --\x3e\r\n            <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="name" name="name" [(ngModel)]="model.name" mdInput placeholder="Nombre">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- estado --\x3e\r\n            <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n                <div class="flex">\r\n                    <span class="flex-spacer"></span>\r\n                    <md-slide-toggle [labelPosition]="\'before\'" id="state" name="state" [(ngModel)]="model.state">Estado</md-slide-toggle>\r\n                </div>\r\n            </div>\r\n            \x3c!--cliente--\x3e\r\n            <div class="col-sm-12 col-md-6 margin-bottom">\r\n                <md-input-container class="full-width">\r\n                    <input readonly mdInput type="text" placeholder="Cliente" [(ngModel)]="customers.businessname" id="client" name="client"\r\n                    />\r\n                    <md-icon mdSuffix class="wh-24 pointer" (click)="openModalCostumers()">search</md-icon>\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- tipo de poblacion --\x3e\r\n            <div class="col-sm-12 col-md-6 margin-bottom">\r\n                <md-select class="full-width" placeholder="Tipo de población" [(ngModel)]="model.population_type_id" name="population_type_id"\r\n                    id="population_type_id">\r\n                    <md-option *ngFor="let item of arrPopulation_type" [value]="item.id">{{item.value}}</md-option>\r\n                </md-select>\r\n            </div>\r\n            \x3c!--description--\x3e\r\n            <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <textarea type="text" id="description" name="description" [(ngModel)]="model.description" mdInput placeholder="Descripción"></textarea>\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!--Red adscrita--\x3e\r\n            <div class="col-sm-12 col-md-6 margin-bottom">\r\n                <div class="flex margin-bottom">\r\n                    <div class="box-header no-padding-h text-center">Red adscrita</div>\r\n                    <span class="flex-spacer"></span>\r\n\r\n                    <button type="button" color="primary" type="button" md-raised-button class="btn-w-md" (click)="openModalIpsNetwork()">Añadir</button>\r\n                </div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nombre</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of _ips">\r\n                                <td>{{item.value}}</td>\r\n                                <td class="w-40">\r\n                                    <button type="button" type="button" md-icon-button (click)="deleteIps(item)">\r\n                                        <md-icon>delete</md-icon>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        \x3c!--EVENTO--\x3e\r\n        <div class="row">\r\n            <div class="col-sm-12 margin-bottom-40" style="padding-bottom: 10px; border-bottom: 1px solid #bebebe">\r\n                <md-slide-toggle (click)="clearEvent()" [labelPosition]="\'before\'" id="event" name="event" [(ngModel)]="booEvento">Evento</md-slide-toggle>\r\n            </div>\r\n        </div>\r\n        <div class="row" *ngIf="booEvento">\r\n            \x3c!-- Numero de contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="evento_contract_number" name="evento_contract_number" [(ngModel)]="contract_number" mdInput\r\n                        placeholder="Numero de contrato">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- inicio del contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input mdInput [mdDatepicker]="pickerIssueDate2" id="evento_contract_start_date" name="evento_contract_start_date" placeholder="Inicio de contrato"\r\n                        [(ngModel)]="contract_start_date">\r\n                    <button mdSuffix [mdDatepickerToggle]="pickerIssueDate2"></button>\r\n                </md-input-container>\r\n                <md-datepicker #pickerIssueDate2></md-datepicker>\r\n            </div>\r\n            \x3c!-- Vencimiento del contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input mdInput [mdDatepicker]="pickerIssueDate1" id="evento_contract_expiration_date" name="evento_contract_expiration_date"\r\n                        placeholder="Vencimiento del contrato" [(ngModel)]="contract_expiration_date">\r\n                    <button mdSuffix [mdDatepickerToggle]="pickerIssueDate1"></button>\r\n                </md-input-container>\r\n                <md-datepicker #pickerIssueDate1></md-datepicker>\r\n            </div>\r\n            \x3c!-- presupuesto --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="budget" name="budget" [(ngModel)]="objEvent.budget" mdInput placeholder="Presupuesto">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- Alerta --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <span mdPrefix>% &nbsp;</span>\r\n                    <input required type="text" id="percent_alert" name="percent_alert" [(ngModel)]="objEvent.percent_alert" mdInput placeholder="Alerta">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- Inactivacion --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <span mdPrefix>% &nbsp;</span>\r\n                    <input required type="text" id="percent_unable" name="percent_unable" [(ngModel)]="objEvent.percent_unable" mdInput placeholder="Inactivación">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- autorizacion --\x3e\r\n            <div class=\'col-sm-12 col-md-6 col-lg-2 margin-bottom\'>\r\n                <md-slide-toggle (change)="activeperauth_length()" [labelPosition]="\'before\'" id="perauth" name="perauth" [(ngModel)]="objEvent.perauth">Autorización</md-slide-toggle>\r\n            </div>\r\n            \x3c!-- longitud --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input [disabled]="!objEvent.perauth" [required]="objEvent.perauth" type="text" id="perauth_length" name="perauth_length"\r\n                        [(ngModel)]="objEvent.perauth_length" mdInput placeholder="Longitud">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- tipo de caracteres --\x3e\r\n            <div class="col-sm-12 col-md-4 col-lg-2 margin-bottom">\r\n                <md-select [disabled]="!objEvent.perauth" class="full-width" placeholder="Tipo caracteres" [(ngModel)]="objEvent.perauth_char_type"\r\n                    name="perauth_char_type" id="perauth_char_type">\r\n                    <md-option *ngFor="let item of arrPerauth_char_type" [value]="item.id">{{item.value}}</md-option>\r\n                </md-select>\r\n            </div>\r\n        </div>\r\n        \x3c!--CÁPITA--\x3e\r\n        <div class="row">\r\n            <div class="col-sm-12  margin-bottom-40" style="padding-bottom: 10px; border-bottom: 1px solid #bebebe">\r\n                <md-slide-toggle (click)="clearCapita()" [labelPosition]="\'before\'" id="capita" name="capita" [(ngModel)]="booCapita">Cápita</md-slide-toggle>\r\n            </div>\r\n        </div>\r\n        <div class="row" *ngIf="booCapita">\r\n            \x3c!-- Numero de contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="capita_contract_number" name="capita_contract_number" [(ngModel)]="contract_number" mdInput\r\n                        placeholder="Numero de contrato">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- inicio del contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input mdInput [mdDatepicker]="pickerIssueDate" id="capita_contract_start_date" name="capita_contract_start_date" placeholder="Inicio de contrato"\r\n                        [(ngModel)]="contract_start_date">\r\n                    <button mdSuffix [mdDatepickerToggle]="pickerIssueDate"></button>\r\n                </md-input-container>\r\n                <md-datepicker #pickerIssueDate></md-datepicker>\r\n            </div>\r\n            \x3c!-- Vencimiento del contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-3  margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input mdInput [mdDatepicker]="pickerIssueDate3" id="capita_contract_expiration_date" name="capita_contract_expiration_date"\r\n                        placeholder="Vencimiento del contrato" [(ngModel)]="contract_expiration_date">\r\n                    <button mdSuffix [mdDatepickerToggle]="pickerIssueDate3"></button>\r\n                </md-input-container>\r\n                <md-datepicker #pickerIssueDate3></md-datepicker>\r\n            </div>\r\n            \x3c!-- Alerta --\x3e\r\n            <div class=\'col-sm-12 col-md-3 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <span mdPrefix>% &nbsp;</span>\r\n                    <input required type="text" id="capita_percent_alert" name="capita_percent_alert" [(ngModel)]="objCapita.percent_alert" mdInput\r\n                        placeholder="Alerta">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- Inactivacion --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <span mdPrefix>% &nbsp;</span>\r\n                    <input required type="text" id="capita_percent_unable" name="capita_percent_unable" [(ngModel)]="objCapita.percent_unable"\r\n                        mdInput placeholder="Inactivación">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- afiliados --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="capita_affiliates_total_qty" name="capita_affiliates_total_qty" [(ngModel)]="objCapita.affiliates_total_qty"\r\n                        mdInput placeholder="Afiliados">\r\n                </md-input-container>\r\n            </div>\r\n            <div class="col-sm-12"></div>\r\n            \x3c!-- Historico de afiliados --\x3e\r\n            <div class="col-sm-12 col-md-6 margin-bottom">\r\n                <div class="box-header no-padding-h" style="height: 67px;">Histórico de afiliados</div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Ubicación</th>\r\n                                <th>Fecha</th>\r\n                                <th>Afiliados</th>\r\n                                <th>Valor capita</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of objCapita.affiliates_qty_history_record">\r\n                                <td>{{item.department.value}}, {{item.city.value}}</td>\r\n                                <td>{{item.affiliates_number}}</td>\r\n                                <td>{{item.affiliates_number}}</td>\r\n                                <td>{{item.date | date:\'dd-MM-yyyy\'}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            \x3c!-- Capita detallada --\x3e\r\n            <div class="col-sm-12 col-md-6 margin-bottom">\r\n                <div class="flex margin-bottom">\r\n                    <div class="box-header no-padding-h">Cápita detallada</div>\r\n                    <span class="flex-spacer"></span>\r\n                    <button type="button" md-raised-button color="primary" class="btn-w-md no-margin-left" (click)="openModalGeolocation()">Añadir</button>\r\n                </div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Ubicación</th>\r\n                                <th>Afiliados</th>\r\n                                <th>Valor cápita</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngFor="let item of objCapita.detailed_capita; let index = index">\r\n\r\n                            <tr *ngIf="item.state">\r\n                                <td>{{item.department.value}}, {{item.city.value}}</td>\r\n                                <td>\r\n                                    <md-input-container class="full-width">\r\n                                        <input required type="text" id="affiliates_number{{index}}" name="affiliates_number{{index}}" [(ngModel)]="item.affiliates_number"\r\n                                            mdInput>\r\n                                    </md-input-container>\r\n                                </td>\r\n                                <td>\r\n                                    <md-input-container class="full-width">\r\n                                        <input required type="text" id="capita_fare{{index}}" name="capita_fare{{index}}" [(ngModel)]="item.capita_fare" mdInput>\r\n                                    </md-input-container>\r\n                                </td>\r\n                                <td class="w-40">\r\n                                    <button type="button" md-icon-button (click)="deleteDetailedCapita(item)">\r\n                                        <md-icon>delete</md-icon>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        \x3c!--PGP--\x3e\r\n        <div class="row">\r\n            <div class="col-sm-12  margin-bottom-40" style="padding-bottom: 10px; border-bottom: 1px solid #bebebe">\r\n                <md-slide-toggle (click)="clearPgp()" [labelPosition]="\'before\'" id="php" name="pgp" [(ngModel)]="booPgp">PGP </md-slide-toggle>\r\n            </div>\r\n        </div>\r\n        <div class="row" *ngIf="booPgp">\r\n            \x3c!-- Numero de contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="pgp_contract_number" name="pgp_contract_number" [(ngModel)]="contract_number" mdInput placeholder="Numero de contrato">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- inicio del contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input mdInput [mdDatepicker]="pickerIssueDate4" id="pgp_contract_start_date" name="pgp_contract_start_date" placeholder="Inicio de contrato"\r\n                        [(ngModel)]="contract_start_date">\r\n                    <button mdSuffix [mdDatepickerToggle]="pickerIssueDate4"></button>\r\n                </md-input-container>\r\n                <md-datepicker #pickerIssueDate4></md-datepicker>\r\n            </div>\r\n            \x3c!-- Vencimiento del contrato --\x3e\r\n            <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input mdInput [mdDatepicker]="pickerIssueDate5" id="pgp_contract_expiration_date" name="pgp_contract_expiration_date" placeholder="Vencimiento del contrato"\r\n                        [(ngModel)]="contract_expiration_date">\r\n                    <button mdSuffix [mdDatepickerToggle]="pickerIssueDate5"></button>\r\n                </md-input-container>\r\n                <md-datepicker #pickerIssueDate5></md-datepicker>\r\n            </div>\r\n            \x3c!-- presupuesto --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="pgp_budget" name="pgp_budget" [(ngModel)]="objPgp.budget" mdInput placeholder="Presupuesto Mensual">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- Alerta --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <span mdPrefix>% &nbsp;</span>\r\n                    <input required type="text" id="pgp_percent_alert" name="pgp_percent_alert" [(ngModel)]="objPgp.percent_alert" mdInput placeholder="Alerta">\r\n                </md-input-container>\r\n            </div>\r\n            \x3c!-- inactivacion --\x3e\r\n            <div class=\'col-sm-12 col-md-4 col-lg-2 margin-bottom\'>\r\n                <md-input-container class="full-width">\r\n                    <input required type="text" id="pgp_percent_unable" name="pgp_percent_unable" [(ngModel)]="objPgp.percent_unable" mdInput\r\n                        placeholder="Inactivación">\r\n                </md-input-container>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            \x3c!-- medicamentos --\x3e\r\n            <div class="col-sm-12 margin-bottom">\r\n\r\n                <div class="flex margin-bottom">\r\n                    <div class="box-header no-padding-h">Medicamentos</div>\r\n                    <span class="flex-spacer"></span>\r\n                    <button type="button" md-raised-button color="primary" class="btn-w-md no-margin-left" (click)="openModalPharmaceutical()">Añadir</button>\r\n                </div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nombre</th>\r\n                                <th>Evento</th>\r\n                                <th>Tarifa</th>\r\n                                <th>Cápita</th>\r\n                                <th>PGP</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of _pharmadrugs; let index = index">\r\n                                <td>{{item.name}}</td>\r\n                                <td>\r\n                                    <md-slide-toggle [disabled]="!booEvento" id="p_event{{index}}" name="p_event{{index}}" [(ngModel)]="item.event"></md-slide-toggle>\r\n                                </td>\r\n                                <td>\r\n\r\n                                    <md-input-container class="full-width">\r\n                                        <input [disabled]="!item.event" (change)="item.fare = (item.evetn ? item.fare : \'\')" mdInput type="text" [(ngModel)]="item.fare"\r\n                                            id="p_fare{{index}}" name="p_fare{{index}}" />\r\n                                    </md-input-container>\r\n                                </td>\r\n                                <td>\r\n                                    <md-slide-toggle [disabled]="!booCapita" id="p_capita{{index}}" name="p_capita{{index}}" [(ngModel)]="item.capita"></md-slide-toggle>\r\n                                </td>\r\n                                <td>\r\n                                    <md-slide-toggle [disabled]="!booPgp" id="p_pgp{{index}}" name="p_pgp{{index}}" [(ngModel)]="item.pgp"></md-slide-toggle>\r\n                                </td>\r\n                                <td class="w-40">\r\n                                    <button type="button" md-icon-button (click)="deletePharmadrug()">\r\n                                        <md-icon>delete</md-icon>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n            </div>\r\n            \x3c!-- puntos de dispensacion --\x3e\r\n            <div class="col-sm-12 margin-bottom">\r\n\r\n                <div class="flex margin-bottom">\r\n                    <div class="box-header no-padding-h">Puntos de dispensación</div>\r\n                    <span class="flex-spacer"></span>\r\n                    <button type="button" md-raised-button color="primary" class="btn-w-md no-margin-left" (click)="openModalDeliveryPoints()">Añadir</button>\r\n                </div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nombre</th>\r\n                                <th>Evento</th>\r\n                                <th>Cápita</th>\r\n                                <th>PGP</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of model.delivery_points; let index = index">\r\n                                <td>{{item.name}}</td>\r\n                                <td>\r\n                                    <md-slide-toggle id="d_event{{index}}" name="_devent{{index}}" [(ngModel)]="item.event"></md-slide-toggle>\r\n                                </td>\r\n                                <td>\r\n                                    <md-slide-toggle id="d_capita{{index}}" name="d_capita{{index}}" [(ngModel)]="item.capita"></md-slide-toggle>\r\n                                </td>\r\n                                <td>\r\n                                    <md-slide-toggle id="d_pgp{{index}}" name="d_pgp{{index}}" [(ngModel)]="item.pgp"></md-slide-toggle>\r\n                                </td>\r\n                                <td class="w-40">\r\n                                    <button type="button" md-icon-button (click)="deleteDeliveryPoints(item)">\r\n                                        <md-icon>delete</md-icon>\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            \x3c!-- medicamentos --\x3e\r\n            <div class="col-sm-12 margin-bottom">\r\n                <div class="box-header no-padding-h">Histórico alerta de contratos</div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <tbody>\r\n                            <tr *ngFor="let item of model.conditional_alers">\r\n                                <td>{{item.description}}</td>\r\n                                <td>{{item.issue_date}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-12" [class.btn-action-container]="booActive">\r\n                <button type="button" [disabled]="!modelForm.form.valid" md-raised-button class="btn-w-md no-margin-left btn-right" (click)="save()">{{strAction}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>'},1488:function(t,n){t.exports='\x3c!-- LIST --\x3e\r\n<div class="row">\r\n    <div class="col-md-6">\r\n        <div class="input-group mb-2 mr-sm-2 mb-sm-0">\r\n            <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Buscar" [(ngModel)]="search" (keydown)="enter($event)">\r\n            <div style="width: 34px" class="input-group-addon">\r\n                <a style="cursor:pointer" (click)="getAll()">\r\n                    <i class="fa fa-search"></i>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-6">\r\n        <button *ngIf="actions[0].status" md-raised-button (click)="CUD(\'Guardar\')" color="primary" class="btn-w-md no-margin-left btn-right">\r\n            <md-icon>add_circle_outline</md-icon> Nuevo\r\n        </button>\r\n    </div>\r\n\r\n    <div class="col-sm-12">\r\n\r\n        <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n\r\n            <table class="mdl-data-table table-bordered table-striped cf no-margin">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="noAuto" (click)="sort(\'id\')">ID\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'id\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th (click)="sort(\'code\')">Nombre\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'code\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th (click)="sort(\'name\')">Cliente\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'name\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th (click)="sort(\'operationcostcentres\')">Población\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'operationcostcentres\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th (click)="sort(\'ct.value\')">Estado\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'ct.value\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th *ngIf="actions[2].status" class="w-40"></th>\r\n                        <th *ngIf="actions[3].status" class="w-40"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of list.data">\r\n                        <td class="noAuto">{{ item.id }}</td>\r\n                        <td>{{ item.name }}</td>\r\n                        <td>{{ item.customers.businessname }}</td>\r\n                        <td>{{ item.population_types.value }}</td>\r\n                        <td>{{ item.state ? \'Activo\' : \'Inactiva\' }}</td>\r\n                        <td *ngIf="actions[2].status" class="w-40">\r\n                            <button type="button" md-icon-button class="text-primary" (click)="CUD(\'Actualizar\', item)">\r\n                                <md-icon>mode_edit</md-icon>\r\n                            </button>\r\n                        </td>\r\n                        <td *ngIf="actions[3].status" class="w-40">\r\n                            <button type="button" md-icon-button class="text-danger" (click)="CUD(\'Eliminar\',item)">\r\n                                <md-icon>delete</md-icon>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n\r\n        <ngb-pagination [pageSize]="pageSize" [collectionSize]="paginationSize" [(page)]="advancedPagination" [maxSize]="maxSize"\r\n            [rotate]="true" [ellipses]="false" [boundaryLinks]="true" (pageChange)="getAll()"></ngb-pagination>\r\n\r\n    </div>\r\n</div>'},1489:function(t,n){t.exports='<section class="chapter">\r\n    <section class="hero">\r\n        <div class="hero-content">\r\n            <h1 class="hero-title">Contratos de dispensación</h1>\r\n        </div>\r\n        <p class="hero-tagline"></p>\r\n    </section>\r\n    <article class="article padding-lg-v article-dark article-bordered">\r\n        <div class="container-fluid with-maxwidth">\r\n            <div class="box box-default">\r\n                <div class="box-body">\r\n                    <delivery-contracts-action-cmp *ngIf="isOpenActions" [numId]="id" [strAction]="strAction"></delivery-contracts-action-cmp>\r\n                    <delivery-contracts-list-cmp *ngIf="isOpenList"></delivery-contracts-list-cmp>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </article>\r\n</section>'}});
//# sourceMappingURL=8.3274906c5adffe397e2d.chunk.js.map