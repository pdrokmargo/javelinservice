webpackJsonp([5],{1417:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"PharmaceuticalDrugModule",function(){return g});var r=e(5),i=e(2),a=e(31),o=e(26),c=e(276),s=e(1431),l=e(591),d=e(1455),m=e(1456),u=e(18),p=[{path:"",component:s.a}],g=function(){function PharmaceuticalDrugModule(){}return PharmaceuticalDrugModule=r.a([e.i(i.NgModule)({imports:[a.CommonModule,o.g.forChild(p),c.a,l.a.forRoot(),u.g,u.b,u.a],declarations:[s.a,d.a,m.a]})],PharmaceuticalDrugModule)}()},1431:function(n,t,e){"use strict";e.d(t,"a",function(){return o});var r=e(5),i=e(2),a=e(592),o=function(n){function PharmaceuticalDrugComponent(){return n.call(this)||this}return r.c(PharmaceuticalDrugComponent,n),PharmaceuticalDrugComponent.prototype.ngOnInit=function(){},PharmaceuticalDrugComponent=r.a([e.i(i.Component)({selector:"pharmaceutical-drug-cmp",template:e(1491),styles:[]}),r.b("design:paramtypes",[])],PharmaceuticalDrugComponent)}(a.a)},1455:function(n,t,e){"use strict";e.d(t,"a",function(){return p});var r=e(5),i=e(2),a=e(34),o=(e.n(a),e(18)),c=e(26),s=e(20),l=e(1431),d=e(72),m=e(593),u=e(112),p=(e.n(u),function(n){function PharmaceuticalDrugActionComponent(t,e,r,i,a,o,c){var s=n.call(this)||this;return s.loaderService=t,s.helperService=e,s.snackBar=r,s.route=i,s.router=a,s.comp=o,s.dialog=c,s.measurement_unit={},s.pharmaceutical_form=[],s.routes_administration=[],s.storage_condition=[],s.arrActive_ingredients=[],s.arrMeasurement_unit=[],s.all_concentration=0,s}return r.c(PharmaceuticalDrugActionComponent,n),PharmaceuticalDrugActionComponent.prototype.ngOnInit=function(){this.clean(),this.getCollection(),void 0!==this.numId&&this.getDataById()},PharmaceuticalDrugActionComponent.prototype.getMeasurement_unit=function(){var n=this;this.measurement_unit=this.arrMeasurement_unit.filter(function(t){return t.id===n.measurement_unit_id})[0]},PharmaceuticalDrugActionComponent.prototype.getCollection=function(){var n=this;this.loaderService.display(!0),this.helperService.POST("/api/collections",["PHARMACEUTICAL_FORM","ROUTES_ADMINISTRATION","STORAGE_CONDITION","MEASUREMENT_UNIT"]).map(function(t){var e=t.json();n.pharmaceutical_form=e.PHARMACEUTICAL_FORM,n.routes_administration=e.ROUTES_ADMINISTRATION,n.storage_condition=e.STORAGE_CONDITION,n.arrMeasurement_unit=e.MEASUREMENT_UNIT}).subscribe(function(t){n.loaderService.display(!1)},function(t){n.loaderService.display(!1)})},PharmaceuticalDrugActionComponent.prototype.save=function(){var n=this;switch(this.arrActive_ingredients.forEach(function(t){t.measurement_unit_id=n.measurement_unit_id}),this.loaderService.display(!0),this.strAction){case"Guardar":this.helperService.POST("/api/pharmaceuticaldrug",{drug:this.model,active_ingredients:this.arrActive_ingredients}).subscribe(function(t){var e=t.json();e.store&&(n.snackBar.open(e.message,"Guardado",{duration:4e3}),n.goList())},function(t){n.snackBar.open(t.message,"Guardado",{duration:4e3}),n.loaderService.display(!1)});break;case"Actualizar":this.helperService.PUT("/api/pharmaceuticaldrug/"+this.numId,{drug:this.model,active_ingredients:this.arrActive_ingredients}).subscribe(function(t){var e=t.json();e.update&&(n.snackBar.open(e.message,"Actualización",{duration:4e3}),n.comp.openList())},function(t){n.loaderService.display(!1),n.snackBar.open(t.message,"Actualización",{duration:4e3})});break;case"Eliminar":this.helperService.DELETE("/api/pharmaceuticaldrug/"+this.numId).subscribe(function(t){var e=t.json();e.delete&&(n.snackBar.open(e.message,"Eliminación",{duration:4e3}),n.comp.openList())},function(t){n.loaderService.display(!1),n.snackBar.open(t.message,"Eliminación",{duration:4e3})})}},PharmaceuticalDrugActionComponent.prototype.getDataById=function(){var n=this;this.loaderService.display(!0),this.helperService.GET("/api/pharmaceuticaldrug/"+this.numId).subscribe(function(t){var e=t.json();n.model=e.data.model,n.arrActive_ingredients=e.data.active_ingredients,n.measurement_unit_id=e.data.active_ingredients[0].measurement_unit_id,n.all(),n.arrActive_ingredients.forEach(function(n){n.name=n.active_ingredient.name,n.id=n.active_ingredient.id}),n.getMeasurement_unit(),n.loaderService.display(!1)},function(t){n.loaderService.display(!1)})},PharmaceuticalDrugActionComponent.prototype.clean=function(){this.model={},this.arrActive_ingredients=[],this.model.is_pos=!1,this.model.is_controlled=!1,this.model.is_monopoly=!1,this.model.state=!0},PharmaceuticalDrugActionComponent.prototype.goList=function(){this.comp.openList()},PharmaceuticalDrugActionComponent.prototype.openModalActiveIngredients=function(){var n=this;this.modalActiveIngredients=this.dialog.open(m.a,{hasBackdrop:!1,data:{title:"Principio activo"}}),this.modalActiveIngredients.afterClosed().pipe(e.i(u.filter)(function(n){return n})).subscribe(function(t){if(0==n.arrActive_ingredients.length)n.arrActive_ingredients.push(t);else{var e=!1;n.arrActive_ingredients.forEach(function(r,i){r.name==t.name&&(e=!0),n.arrActive_ingredients.length-1==i&&(e||n.arrActive_ingredients.push(t))})}})},PharmaceuticalDrugActionComponent.prototype.all=function(){var n=this;this.all_concentration=0,this.arrActive_ingredients.forEach(function(t){n.all_concentration+=parseInt(t.concentration)})},PharmaceuticalDrugActionComponent=r.a([e.i(i.Component)({selector:"pharmaceutical-drug-action-cmp",template:e(1489),styles:[]}),r.b("design:paramtypes",[s.a,s.b,o.c,c.b,c.a,l.a,o.d])],PharmaceuticalDrugActionComponent)}(d.a))},1456:function(n,t,e){"use strict";e.d(t,"a",function(){return d});var r=e(5),i=e(2),a=e(34),o=(e.n(a),e(26)),c=e(71),s=e(20),l=e(1431),d=function(n){function PharmaceuticalDrugListComponent(t,e,r,i){var a=n.call(this,e,r)||this;return a.router=t,a.loaderService=e,a.helperService=r,a.comp=i,a.urlApi="/api/pharmaceuticaldrug",a}return r.c(PharmaceuticalDrugListComponent,n),PharmaceuticalDrugListComponent.prototype.ngOnInit=function(){this.getAll()},PharmaceuticalDrugListComponent.prototype.CUD=function(n,t){switch(this.comp.strAction=n,n){case"Guardar":this.comp.id=void 0;break;default:this.comp.id=t.id}this.comp.openActions()},PharmaceuticalDrugListComponent=r.a([e.i(i.Component)({selector:"pharmaceutical-drug-list-cmp",template:e(1490),styles:[]}),r.b("design:paramtypes",[o.a,s.a,s.b,l.a])],PharmaceuticalDrugListComponent)}(c.a)},1489:function(n,t){n.exports='\x3c!-- FORM --\x3e\r\n\r\n<form #pharmeceuticalForm="ngForm" autocomplete="off">\r\n\r\n    <div class="col-sm-12 margin-bottom" [class.btn-action-container]="booActive" *ngIf="!noaction">\r\n        <button type="button" md-raised-button color="secundary" (click)="goList()" class="btn-w-md no-margin-left">Regresar</button>\r\n    </div>\r\n\r\n    \x3c!-- name --\x3e\r\n    <div class=\'col-sm-12 col-md-6  margin-bottom\'>\r\n        <md-input-container class="full-width">\r\n            <input required type="text" id="name" name="name" [(ngModel)]="model.name" mdInput placeholder="Principio activo">\r\n        </md-input-container>\r\n    </div>\r\n    \x3c!-- estado --\x3e\r\n    <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n        <div class="flex">\r\n            <span class="flex-spacer"></span>\r\n            <md-slide-toggle [labelPosition]="\'before\'" id="state" name="state" [(ngModel)]="model.state">Estado</md-slide-toggle>\r\n        </div>\r\n    </div>\r\n    \x3c!-- Principio activo --\x3e\r\n    <div class="col-sm-12 margin-bottom">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                <div class="flex margin-bottom">\r\n                    <div class="box-header no-padding-h">Principio activo</div>\r\n                    <span class="flex-spacer"></span>\r\n                    <button type="button" md-raised-button color="primary" class="btn-w-md no-margin-left" (click)="openModalActiveIngredients()">Añadir</button>\r\n                </div>\r\n                <div class="col-sm-12 margin-bottom" *ngIf="arrActive_ingredients.length > 0">\r\n                    <md-select [required]="arrActive_ingredients.length > 0" (change)="getMeasurement_unit()" placeholder="Unidad de medida"\r\n                        class="full-width" [(ngModel)]="measurement_unit_id" name="measurement_unit_id" id="measurement_unit_id">\r\n                        <md-option *ngFor="let item of arrMeasurement_unit" [value]="item.id">{{item.value.trim()}}</md-option>\r\n                    </md-select>\r\n                </div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nombre</th>\r\n                                <th style="width: 150px">Concentración</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of arrActive_ingredients; let index = index">\r\n                                <td>{{item.name}}</td>\r\n                                <td class="max-w-100 padding-bottom-0">\r\n                                    <md-input-container class="full-width">\r\n                                        <input NumberOnly type="text" id="concentration{{index}}" name="concentration{{index}}" [(ngModel)]="item.concentration"\r\n                                            (keyup)="all()" mdInput>\r\n                                        <span matSuffix>&nbsp; {{measurement_unit.code}}</span>\r\n                                    </md-input-container>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf="arrActive_ingredients.length > 0">\r\n                                <th></th>\r\n                                <th style="text-align: right">\r\n                                    {{ all_concentration }} {{ measurement_unit.code }}\r\n                                </th>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \x3c!-- dosage_form_id --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-select class="full-width" placeholder="Forma Farmacéutica" [(ngModel)]="model.dosage_form_id" name="dosage_form_id" id="dosage_form_id">\r\n            <md-option *ngFor="let i of pharmaceutical_form" [value]="i.id">{{i.value}}</md-option>\r\n        </md-select>\r\n    </div>\r\n    \x3c!-- routes_administration_id --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-select class="full-width" placeholder="Vía de administración" [(ngModel)]="model.routes_administration_id" name="routes_administration_id"\r\n            id="routes_administration_id">\r\n            <md-option *ngFor="let i of routes_administration" [value]="i.id">{{i.value}}</md-option>\r\n        </md-select>\r\n    </div>\r\n    \x3c!-- atc --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-input-container class="full-width">\r\n            <input required type="text" id="atc" name="atc" [(ngModel)]="model.atc" mdInput placeholder="Código ATC">\r\n        </md-input-container>\r\n    </div>\r\n    \x3c!-- regulated_price --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-input-container class="full-width">\r\n            <span mdPrefix>$ &nbsp;</span>\r\n            <input required type="text" id="regulated_price" appMycurrency name="regulated_price" [(ngModel)]="model.regulated_price"\r\n                mdInput placeholder="Precio regulado">\r\n        </md-input-container>\r\n    </div>\r\n    \x3c!-- storage_condition_id --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-select class="full-width" placeholder="Almacenamiento" [(ngModel)]="model.storage_condition_id" name="storage_condition_id"\r\n            id="storage_condition_id">\r\n            <md-option *ngFor="let i of storage_condition" [value]="i.id">{{i.value}}</md-option>\r\n        </md-select>\r\n    </div>\r\n    \x3c!-- is_controlled --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-slide-toggle [labelPosition]="after" id="is_controlled" name="is_controlled" [(ngModel)]="model.is_controlled">Controlado</md-slide-toggle>\r\n    </div>\r\n    \x3c!-- is_monopoly --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-slide-toggle [labelPosition]="after" id="is_monopoly" name="is_monopoly" [(ngModel)]="model.is_monopoly">Monopolio</md-slide-toggle>\r\n    </div>\r\n    \x3c!-- is_pos --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-slide-toggle [labelPosition]="after" id="is_pos" name="is_pos" [(ngModel)]="model.is_pos">POS</md-slide-toggle>\r\n    </div>\r\n    <div class="col-sm-12" [class.btn-action-container]="booActive">\r\n        <button type="button" [disabled]="!pharmeceuticalForm.form.valid" md-raised-button color="primary" class="btn-w-md no-margin-left btn-right"\r\n            (click)="save()">{{strAction}}</button>\r\n    </div>\r\n</form>'},1490:function(n,t){n.exports='\x3c!-- LIST --\x3e\r\n<div class="row">\r\n    <div class="col-md-6">\r\n        <div class="input-group mb-2 mr-sm-2 mb-sm-0">\r\n            <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Buscar" [(ngModel)]="search" (keydown)="enter($event)">\r\n            <div style="width: 34px" class="input-group-addon">\r\n                <a style="cursor:pointer" (click)="getAll()">\r\n                    <i class="fa fa-search"></i>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-6">\r\n        <button *ngIf="actions[0].status" md-raised-button (click)="CUD(\'Guardar\')" color="primary" class="btn-w-md no-margin-left btn-right">\r\n            <md-icon>add_circle_outline</md-icon> Nuevo\r\n        </button>\r\n    </div>\r\n\r\n    <div class="col-sm-12">\r\n\r\n        <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n\r\n            <table class="mdl-data-table table-bordered table-striped cf no-margin">\r\n                <thead>\r\n                    <tr>\r\n                        <th class="noAuto" (click)="sort(\'pd.id\')">ID\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'pd.id\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th (click)="sort(\'pd.name\')">Nombre\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'pd.name\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'ra.concentration\')">Concentración\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'ra.value\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'ra.value\')">Forma Farmaceutica\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'ra.value\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'is_pos\')">POS\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'is_pos\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'pd.state\')">Estado\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'pd.state\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th *ngIf="actions[2].status" class="w-40"></th>\r\n                        <th *ngIf="actions[3].status" class="w-40"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of list.data">\r\n                        <td class="noAuto">{{ item.id }}</td>\r\n                        <td>{{ item.name }}</td>\r\n                        <td>{{ item.concentration }}</td>\r\n                        <td>{{ item.dosage_form }}</td>\r\n                        <td>{{ item.is_pos ? \'Si\' : \'No\' }}</td>\r\n                        <td>{{ item.state ? \'Activo\' : \'Inactivo\' }}</td>\r\n                        <td *ngIf="actions[2].status" class="w-40">\r\n                            <button type="button" md-icon-button class="text-primary" (click)="CUD(\'Actualizar\',item)">\r\n                                <md-icon>mode_edit</md-icon>\r\n                            </button>\r\n                        </td>\r\n                        <td *ngIf="actions[3].status" class="w-40">\r\n                            <button type="button" md-icon-button class="text-danger" (click)="CUD(\'Eliminar\',item)">\r\n                                <md-icon>delete</md-icon>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n        <ngb-pagination [pageSize]="pageSize" [collectionSize]="paginationSize" [(page)]="advancedPagination" [maxSize]="6" [rotate]="true"\r\n            [ellipses]="false" [boundaryLinks]="true" (pageChange)="getAll()"></ngb-pagination>\r\n\r\n    </div>\r\n</div>'},1491:function(n,t){n.exports='<section class="chapter">\r\n    <section class="hero">\r\n        <div class="hero-content">\r\n            <h1 class="hero-title">Medicamentos</h1>\r\n        </div>\r\n        <p class="hero-tagline">A través de esta opción, usted podrá crear los medicamentos de las cuales son necesarias para...</p>\r\n    </section>\r\n    <article class="article padding-lg-v article-dark article-bordered">\r\n        <div class="container-fluid with-maxwidth">\r\n            <div class="box box-default">\r\n                <div class="box-body">\r\n                    <pharmaceutical-drug-action-cmp *ngIf="isOpenActions" [numId]="id" [strAction]="strAction"></pharmaceutical-drug-action-cmp>\r\n                    <pharmaceutical-drug-list-cmp *ngIf="isOpenList"></pharmaceutical-drug-list-cmp>\r\n                </div>               \r\n            </div>\r\n        </div>\r\n    </article>\r\n</section>'}});
//# sourceMappingURL=5.f73180cdfbf2edd2060a.chunk.js.map