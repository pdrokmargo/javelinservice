webpackJsonp([5],{1440:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"PharmaceuticalDrugModule",function(){return g});var i=e(5),r=e(2),o=e(31),a=e(37),c=e(282),s=e(1455),l=e(596),d=e(1478),m=e(1479),u=e(21),p=[{path:"",component:s.a}],g=function(){function PharmaceuticalDrugModule(){}return PharmaceuticalDrugModule=i.a([e.i(r.NgModule)({imports:[o.CommonModule,a.g.forChild(p),c.a,l.a.forRoot(),u.g,u.b,u.a],declarations:[s.a,d.a,m.a]})],PharmaceuticalDrugModule)}()},1455:function(n,t,e){"use strict";e.d(t,"a",function(){return a});var i=e(5),r=e(2),o=e(597),a=function(n){function PharmaceuticalDrugComponent(){return n.call(this)||this}return i.c(PharmaceuticalDrugComponent,n),PharmaceuticalDrugComponent.prototype.ngOnInit=function(){},PharmaceuticalDrugComponent=i.a([e.i(r.Component)({selector:"pharmaceutical-drug-cmp",template:e(1514),styles:[]}),i.b("design:paramtypes",[])],PharmaceuticalDrugComponent)}(o.a)},1478:function(n,t,e){"use strict";e.d(t,"a",function(){return g});var i=e(5),r=e(2),o=e(41),a=(e.n(o),e(21)),c=e(37),s=e(26),l=e(1455),d=e(86),m=e(605),u=(e.n(m),e(598)),p=e(147),g=(e.n(p),function(n){function PharmaceuticalDrugActionComponent(t,e,i,o,a,c,s){var l=n.call(this)||this;return l.loaderService=t,l.helperService=e,l.snackBar=i,l.route=o,l.router=a,l.comp=c,l.dialog=s,l.select=new r.EventEmitter,l.action_active=!1,l.str_action="Guardar",l.pharmaceutical_form=[],l.routes_administration=[],l.storage_condition=[],l.arrActive_ingredients=[],l.arrMeasurement_unit=[],l}return i.c(PharmaceuticalDrugActionComponent,n),PharmaceuticalDrugActionComponent.prototype.ngOnInit=function(){this.clean(),this.getCollection(),void 0==this.numId||null==this.numId||""==this.numId?this.str_action="Guardar":(this.str_action="Actualizar",this.getDataById())},PharmaceuticalDrugActionComponent.prototype.getCollection=function(){var n=this;this.loaderService.display(!0),this.helperService.POST("/api/collections",["PHARMACEUTICAL_FORM","ROUTES_ADMINISTRATION","STORAGE_CONDITION","MEASUREMENT_UNIT"]).map(function(t){var e=t.json();n.pharmaceutical_form=e.PHARMACEUTICAL_FORM,n.routes_administration=e.ROUTES_ADMINISTRATION,n.storage_condition=e.STORAGE_CONDITION,n.arrMeasurement_unit=e.MEASUREMENT_UNIT}).subscribe(function(t){n.loaderService.display(!1)},function(t){n.loaderService.display(!1)})},PharmaceuticalDrugActionComponent.prototype.save=function(){var n=this;e.i(m.isNullOrUndefined)(this.model.id)||""===this.model.id?(this.loaderService.display(!0),this.helperService.POST("/api/pharmaceuticaldrug",{drug:this.model,active_ingredients:this.arrActive_ingredients}).map(function(t){var e=t.json();"success"===e.status&&(n.snackBar.open(e.message,"Guardado",{duration:3500}),n.clean()),n.noaction&&n.select.emit(e.data)}).subscribe(function(t){n.loaderService.display(!1)},function(t){n.loaderService.display(!1)})):(this.loaderService.display(!0),this.helperService.PUT("/api/pharmaceuticaldrug/"+this.numId,{drug:this.model,active_ingredients:this.arrActive_ingredients}).map(function(t){var e=t.json();"success"===e.status&&(n.snackBar.open(e.message,"Actualización",{duration:3500}),n.comp.openList())}).subscribe(function(t){n.loaderService.display(!1)},function(t){n.loaderService.display(!1)}))},PharmaceuticalDrugActionComponent.prototype.getDataById=function(){var n=this;this.loaderService.display(!0),this.helperService.GET("/api/pharmaceuticaldrug/"+this.numId).map(function(t){var e=t.json();n.model=e.data.model,n.arrActive_ingredients=e.data.active_ingredients,n.arrActive_ingredients.forEach(function(n){n.name=n.active_ingredient.name,n.id=n.active_ingredient.id})}).subscribe(function(t){n.loaderService.display(!1)},function(t){n.loaderService.display(!1)})},PharmaceuticalDrugActionComponent.prototype.clean=function(){this.model={},this.arrActive_ingredients=[],this.model.is_pos=!1,this.model.is_controlled=!1,this.model.is_monopoly=!1,this.model.state=!0},PharmaceuticalDrugActionComponent.prototype.goList=function(){this.comp.openList()},PharmaceuticalDrugActionComponent.prototype.openModalActiveIngredients=function(){var n=this;this.modalActiveIngredients=this.dialog.open(u.a,{hasBackdrop:!1,data:{title:"Principio activo"}}),this.modalActiveIngredients.afterClosed().pipe(e.i(p.filter)(function(n){return n})).subscribe(function(t){if(0==n.arrActive_ingredients.length)n.arrActive_ingredients.push(t);else{var e=!1;n.arrActive_ingredients.forEach(function(i,r){i.name==t.name&&(e=!0),n.arrActive_ingredients.length-1==r&&(e||n.arrActive_ingredients.push(t))})}})},i.a([e.i(r.Output)(),i.b("design:type",Object)],PharmaceuticalDrugActionComponent.prototype,"select",void 0),i.a([e.i(r.Input)(),i.b("design:type",Boolean)],PharmaceuticalDrugActionComponent.prototype,"noaction",void 0),PharmaceuticalDrugActionComponent=i.a([e.i(r.Component)({selector:"pharmaceutical-drug-action-cmp",template:e(1512),styles:[]}),i.b("design:paramtypes",[s.a,s.b,a.c,c.b,c.a,l.a,a.d])],PharmaceuticalDrugActionComponent)}(d.a))},1479:function(n,t,e){"use strict";e.d(t,"a",function(){return d});var i=e(5),r=e(2),o=e(41),a=(e.n(o),e(37)),c=e(85),s=e(26),l=e(1455),d=function(n){function PharmaceuticalDrugListComponent(t,e,i,o){var a=n.call(this,e,i)||this;return a.router=t,a.loaderService=e,a.helperService=i,a.comp=o,a.select=new r.EventEmitter,a.urlApi="/api/pharmaceuticaldrug",a}return i.c(PharmaceuticalDrugListComponent,n),PharmaceuticalDrugListComponent.prototype.ngOnInit=function(){this.getAll()},PharmaceuticalDrugListComponent.prototype.NEW=function(n){this.comp.openActions(),this.comp.id=0},PharmaceuticalDrugListComponent.prototype.view=function(n){this.noaction?this.select.emit(n):(this.comp.openActions(),this.comp.id=n.id)},i.a([e.i(r.Output)(),i.b("design:type",Object)],PharmaceuticalDrugListComponent.prototype,"select",void 0),i.a([e.i(r.Input)(),i.b("design:type",Boolean)],PharmaceuticalDrugListComponent.prototype,"noaction",void 0),PharmaceuticalDrugListComponent=i.a([e.i(r.Component)({selector:"pharmaceutical-drug-list-cmp",template:e(1513),styles:[]}),i.b("design:paramtypes",[a.a,s.a,s.b,l.a])],PharmaceuticalDrugListComponent)}(c.a)},1512:function(n,t){n.exports='\x3c!-- FORM --\x3e\r\n\r\n<form #pharmeceuticalForm="ngForm" autocomplete="off">\r\n\r\n    <div class="col-sm-12 margin-bottom" [class.btn-action-container]="booActive" *ngIf="!noaction">\r\n        <button md-raised-button color="secundary" (click)="goList()" class="btn-w-md no-margin-left">Regresar</button>\r\n    </div>\r\n\r\n    \x3c!-- name --\x3e\r\n    <div class=\'col-sm-12 col-md-6  margin-bottom\'>\r\n        <md-input-container class="full-width">\r\n            <input required type="text" id="name" name="name" [(ngModel)]="model.name" mdInput placeholder="Nombre">\r\n        </md-input-container>\r\n    </div>\r\n    \x3c!-- estado --\x3e\r\n    <div class=\'col-sm-12 col-md-6 margin-bottom\'>\r\n        <div class="flex">\r\n            <span class="flex-spacer"></span>\r\n            <md-slide-toggle [labelPosition]="\'before\'" id="state" name="state" [(ngModel)]="model.state">Estado</md-slide-toggle>\r\n        </div>\r\n    </div>\r\n    \x3c!-- Principio activo --\x3e\r\n    <div class="col-sm-12 margin-bottom">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                <div class="flex margin-bottom">\r\n                    <div class="box-header no-padding-h">Principio activo</div>\r\n                    <span class="flex-spacer"></span>\r\n                    <button md-raised-button color="primary" class="btn-w-md no-margin-left" (click)="openModalActiveIngredients()">Añadir</button>\r\n                </div>\r\n                <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n                    <table class="mdl-data-table table-bordered table-striped no-margin">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nombre</th>\r\n                                <th>Concentración</th>\r\n                                <th>Unidad de medida</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of arrActive_ingredients; let index = index">\r\n                                <td>{{item.name}}</td>\r\n                                <td>\r\n                                    <md-input-container class="full-width">\r\n                                        <input type="text" id="concentration{{index}}" name="concentration{{index}}" [(ngModel)]="item.concentration" mdInput>\r\n                                    </md-input-container>\r\n                                </td>\r\n                                <td>\r\n                                    <md-select class="full-width" [(ngModel)]="item.measurement_unit_id" name="measurement_unit_id{{index}}" id="measurement_unit_id{{index}}">\r\n                                        <md-option *ngFor="let item of arrMeasurement_unit" [value]="item.id">{{item.value.trim()}}</md-option>\r\n                                    </md-select>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \x3c!-- dosage_form_id --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-select class="full-width" placeholder="Forma Farmacéutica" [(ngModel)]="model.dosage_form_id" name="dosage_form_id" id="dosage_form_id">\r\n            <md-option *ngFor="let i of pharmaceutical_form" [value]="i.id">{{i.value}}</md-option>\r\n        </md-select>\r\n    </div>\r\n    \x3c!-- routes_administration_id --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-select class="full-width" placeholder="Vía de administración" [(ngModel)]="model.routes_administration_id" name="routes_administration_id"\r\n            id="routes_administration_id">\r\n            <md-option *ngFor="let i of routes_administration" [value]="i.id">{{i.value}}</md-option>\r\n        </md-select>\r\n    </div>\r\n    \x3c!-- atc --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-input-container class="full-width">\r\n            <input required type="text" id="atc" name="atc" [(ngModel)]="model.atc" mdInput placeholder="Código ATC">\r\n        </md-input-container>\r\n    </div>\r\n    \x3c!-- regulated_price --\x3e\r\n    <div class=\'col-sm-12 col-md-4 col-lg-3 margin-bottom\'>\r\n        <md-input-container class="full-width">\r\n            <input required type="text" id="regulated_price" name="regulated_price" [(ngModel)]="model.regulated_price" mdInput placeholder="Precio regulado">\r\n        </md-input-container>\r\n    </div>\r\n    \x3c!-- storage_condition_id --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-select class="full-width" placeholder="Almacenamiento" [(ngModel)]="model.storage_condition_id" name="storage_condition_id"\r\n            id="storage_condition_id">\r\n            <md-option *ngFor="let i of storage_condition" [value]="i.id">{{i.value}}</md-option>\r\n        </md-select>\r\n    </div>\r\n    \x3c!-- is_controlled --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-slide-toggle [labelPosition]="after" id="is_controlled" name="is_controlled" [(ngModel)]="model.is_controlled">Controlado</md-slide-toggle>\r\n    </div>\r\n    \x3c!-- is_monopoly --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-slide-toggle [labelPosition]="after" id="is_monopoly" name="is_monopoly" [(ngModel)]="model.is_monopoly">Monopolio</md-slide-toggle>\r\n    </div>\r\n    \x3c!-- is_pos --\x3e\r\n    <div class=\'col-sm-12 col-md-3 margin-bottom\'>\r\n        <md-slide-toggle [labelPosition]="after" id="is_pos" name="is_pos" [(ngModel)]="model.is_pos">POS</md-slide-toggle>\r\n    </div>\r\n    <div class="col-sm-12" [class.btn-action-container]="booActive">\r\n        <button [disabled]="action_active ? false : !pharmeceuticalForm.form.valid" md-raised-button color="primary" class="btn-w-md no-margin-left btn-right"\r\n            (click)="save()">{{str_action}}</button>\r\n    </div>\r\n</form>'},1513:function(n,t){n.exports='\x3c!-- LIST --\x3e\r\n<div class="row">\r\n    <div class="col-md-6">\r\n        <div class="input-group mb-2 mr-sm-2 mb-sm-0">\r\n            <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Buscar" [(ngModel)]="search" (keydown)="enter($event)">\r\n            <div style="width: 34px" class="input-group-addon">\r\n                <a style="cursor:pointer" (click)="getAll()">\r\n                    <i class="fa fa-search"></i>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-6" *ngIf="!noaction">\r\n        <button md-raised-button (click)="NEW()" color="primary" class="btn-w-md no-margin-left btn-right">Nuevo</button>\r\n    </div>\r\n\r\n    <div class="col-sm-12">\r\n\r\n        <div class="box box-default table-box table-responsive mdl-shadow--2dp">\r\n\r\n            <table class="mdl-data-table table-bordered table-striped cf no-margin">\r\n                <thead>\r\n                    <tr>\r\n                        <th (click)="sort(\'pd.name\')">Nombre\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'pd.name\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'ra.value\')">Vía Administración\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'ra.value\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'ra.value\')">Forma Farmaceutica\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'ra.value\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'is_pos\')">POS\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'is_pos\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n\r\n                        <th (click)="sort(\'pd.state\')">Estado\r\n                            <span class="glyphicon sort-icon" *ngIf="key ==\'pd.state\'" [ngClass]="{\'glyphicon-chevron-up\':reverse,\'glyphicon-chevron-down\':!reverse}"></span>\r\n                        </th>\r\n                        <th *ngIf="!noaction"></th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of list.data" (click)="view(item)">\r\n                        <td>{{ item.name }}</td>\r\n                        <td>{{ item.routes_administration }}</td>\r\n                        <td>{{ item.dosage_form }}</td>\r\n                        <td>{{ item.is_pos ? \'Si\' : \'No\' }}</td>\r\n                        <td>{{ item.state ? \'Activo\' : \'Inactivo\' }}</td>\r\n                        \x3c!-- <td>{{ item.state ? \'Activa\' : \'Inactiva\' }}</td> --\x3e\r\n                        <td class="text-center" *ngIf="!noaction">\r\n                            <a style="color:#0a6ebd;cursor: pointer;" (click)="view(item)">\r\n                                <i class="fa fa-pencil fa-2x"></i>\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n        </div>\r\n        <ngb-pagination [pageSize]="pageSize" [collectionSize]="paginationSize" [(page)]="advancedPagination" [maxSize]="6" [rotate]="true"\r\n            [ellipses]="false" [boundaryLinks]="true" (pageChange)="getAll()"></ngb-pagination>\r\n\r\n    </div>\r\n</div>'},1514:function(n,t){n.exports='<section class="chapter">\r\n    <section class="hero">\r\n        <div class="hero-content">\r\n            <h1 class="hero-title">Medicamentos</h1>\r\n        </div>\r\n        <p class="hero-tagline">A través de esta opción, usted podrá crear los medicamentos de las cuales son necesarias para...</p>\r\n    </section>\r\n    <article class="article padding-lg-v article-dark article-bordered">\r\n        <div class="container-fluid with-maxwidth">\r\n            <div class="box box-default">\r\n                <div class="box-body">\r\n                   \r\n                    <pharmaceutical-drug-action-cmp *ngIf="isOpenActions" [numId]="id"></pharmaceutical-drug-action-cmp>\r\n                    <pharmaceutical-drug-list-cmp *ngIf="isOpenList"></pharmaceutical-drug-list-cmp>\r\n                   \r\n                </div>               \r\n            </div>\r\n        </div>\r\n    </article>\r\n</section>'}});
//# sourceMappingURL=5.3050bb6d0c0309a4367d.chunk.js.map