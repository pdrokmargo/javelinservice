{"version":3,"sources":["webpack:///2.c5ab6f0a90a1d6ecc714.chunk.js","webpack:///./src/app/smartity/users/users.module.ts","webpack:///./src/app/smartity/users/users.component.ts","webpack:///./src/app/smartity/users/user-action/user-action.component.ts","webpack:///./src/app/smartity/users/user-list/user-list.component.ts","webpack:///./src/app/smartity/users/user-action/user-action.component.html","webpack:///./src/app/smartity/users/user-list/user-list.component.html","webpack:///./src/app/smartity/users/users.component.html"],"names":["webpackJsonp","1443","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","d","UsersModule","__WEBPACK_IMPORTED_MODULE_0_tslib__","__WEBPACK_IMPORTED_MODULE_1__angular_core__","__WEBPACK_IMPORTED_MODULE_2__angular_common__","__WEBPACK_IMPORTED_MODULE_3__angular_router__","__WEBPACK_IMPORTED_MODULE_4__shared_shared_module__","__WEBPACK_IMPORTED_MODULE_5__users_component__","__WEBPACK_IMPORTED_MODULE_6__ng_bootstrap_ng_bootstrap__","__WEBPACK_IMPORTED_MODULE_7__user_action_user_action_component__","__WEBPACK_IMPORTED_MODULE_8__user_list_user_list_component__","routes","path","component","i","imports","forChild","forRoot","declarations","1458","UsersComponent","__WEBPACK_IMPORTED_MODULE_2__bases_base__","_super","call","this","prototype","ngOnInit","selector","template","styles","1485","UserActionComponent","__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__","__WEBPACK_IMPORTED_MODULE_3__angular_material__","n","__WEBPACK_IMPORTED_MODULE_4__angular_router__","__WEBPACK_IMPORTED_MODULE_5__bases_base_model__","__WEBPACK_IMPORTED_MODULE_6__users_component__","__WEBPACK_IMPORTED_MODULE_7__shared__","loaderService","helperService","snackBar","route","router","comp","_this","companies","user_profiles","str_action","model_user_company","clean","getUserProfiles","getCompanies","undefined","numId","getDataById","GET","map","response","res","json","data","subscribe","error","done","save","model","usersprivileges","length","open","duration","display","PUT","status","message","openList","POST","refreshCompany","j","company_id","id","hide","addCompany","company","user_profile_id","userprofile","push","removeCompany","obj","company_default_id","index","indexOf","splice","goList","1486","UserListComponent","__WEBPACK_IMPORTED_MODULE_4__bases_base_list__","__WEBPACK_IMPORTED_MODULE_5__shared__","urlApi","getAll","NEW","row","openActions","view","1524","exports","1525","1526"],"mappings":"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","file":"2.c5ab6f0a90a1d6ecc714.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 1443:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UsersModule\", function() { return UsersModule; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__shared_shared_module__ = __webpack_require__(282);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__users_component__ = __webpack_require__(1458);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ng_bootstrap_ng_bootstrap__ = __webpack_require__(595);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__user_action_user_action_component__ = __webpack_require__(1485);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__user_list_user_list_component__ = __webpack_require__(1486);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar routes = [{ path: '', component: __WEBPACK_IMPORTED_MODULE_5__users_component__[\"a\" /* UsersComponent */] }];\r\nvar UsersModule = /** @class */ (function () {\r\n    function UsersModule() {\r\n    }\r\n    UsersModule = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"NgModule\"])({\r\n            imports: [\r\n                __WEBPACK_IMPORTED_MODULE_2__angular_common__[\"CommonModule\"],\r\n                __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"g\" /* RouterModule */].forChild(routes),\r\n                __WEBPACK_IMPORTED_MODULE_4__shared_shared_module__[\"a\" /* SharedModule */],\r\n                __WEBPACK_IMPORTED_MODULE_6__ng_bootstrap_ng_bootstrap__[\"a\" /* NgbModule */].forRoot()\r\n            ],\r\n            declarations: [\r\n                __WEBPACK_IMPORTED_MODULE_5__users_component__[\"a\" /* UsersComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_7__user_action_user_action_component__[\"a\" /* UserActionComponent */],\r\n                __WEBPACK_IMPORTED_MODULE_8__user_list_user_list_component__[\"a\" /* UserListComponent */]\r\n            ]\r\n        })\r\n    ], UsersModule);\r\n    return UsersModule;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1458:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UsersComponent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__bases_base__ = __webpack_require__(596);\n\r\n\r\n\r\nvar UsersComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __extends */](UsersComponent, _super);\r\n    function UsersComponent() {\r\n        return _super.call(this) || this;\r\n    }\r\n    UsersComponent.prototype.ngOnInit = function () { };\r\n    UsersComponent = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\r\n            selector: 'users-cmp',\r\n            template: __webpack_require__(1526),\r\n            styles: []\r\n        }),\r\n        __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __metadata */](\"design:paramtypes\", [])\r\n    ], UsersComponent);\r\n    return UsersComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_2__bases_base__[\"a\" /* Base */]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1485:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserActionComponent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_material__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bases_base_model__ = __webpack_require__(85);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__users_component__ = __webpack_require__(1458);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared__ = __webpack_require__(23);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar UserActionComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __extends */](UserActionComponent, _super);\r\n    function UserActionComponent(loaderService, helperService, snackBar, route, router, comp) {\r\n        var _this = _super.call(this) || this;\r\n        _this.loaderService = loaderService;\r\n        _this.helperService = helperService;\r\n        _this.snackBar = snackBar;\r\n        _this.route = route;\r\n        _this.router = router;\r\n        _this.comp = comp;\r\n        _this.companies = [];\r\n        _this.user_profiles = [];\r\n        _this.str_action = 'Guardar';\r\n        _this.model_user_company = {};\r\n        return _this;\r\n    }\r\n    UserActionComponent.prototype.ngOnInit = function () {\r\n        this.clean();\r\n        this.getUserProfiles();\r\n        this.getCompanies();\r\n        if (this.numId != undefined) {\r\n            this.str_action = 'Actualizar';\r\n            this.getDataById();\r\n        }\r\n        else {\r\n            this.str_action = 'Guardar';\r\n        }\r\n    };\r\n    UserActionComponent.prototype.getUserProfiles = function () {\r\n        var _this = this;\r\n        this.helperService.GET(\"/api/userprofile?all=1\").map(function (response) {\r\n            var res = response.json();\r\n            _this.user_profiles = res.data;\r\n        }).subscribe(function (error) {\r\n            // this.loaderService.display(false);\r\n        }, function (done) {\r\n            // this.loaderService.display(false);\r\n        });\r\n    };\r\n    UserActionComponent.prototype.getCompanies = function () {\r\n        var _this = this;\r\n        this.helperService.GET(\"/api/company\")\r\n            .map(function (response) {\r\n            var res = response.json();\r\n            _this.companies = res['data'];\r\n        }).subscribe(function (error) {\r\n            // this.loaderService.display(false);\r\n        }, function (done) {\r\n            // this.loaderService.display(false);\r\n        });\r\n    };\r\n    UserActionComponent.prototype.save = function () {\r\n        var _this = this;\r\n        /** Update */\r\n        if (this.model.usersprivileges.length === 0) {\r\n            this.snackBar.open('Agregue una empresa para continuar.', 'Error', {\r\n                duration: 3500,\r\n            });\r\n            return false;\r\n        }\r\n        if (this.numId != undefined) {\r\n            this.loaderService.display(true);\r\n            this.helperService.PUT(\"/api/users/\" + this.numId, this.model)\r\n                .map(function (response) {\r\n                var res = response.json();\r\n                if (res.status === 'success') {\r\n                    _this.snackBar.open(res.message, 'Actualización', {\r\n                        duration: 3500,\r\n                    });\r\n                    _this.comp.openList();\r\n                }\r\n            }).subscribe(function (error) {\r\n                _this.loaderService.display(false);\r\n            }, function (done) {\r\n                _this.loaderService.display(false);\r\n            });\r\n        }\r\n        else {\r\n            /** Create */\r\n            this.loaderService.display(true);\r\n            this.helperService.POST(\"/api/users\", this.model)\r\n                .map(function (response) {\r\n                var res = response.json();\r\n                if (res.status === 'success') {\r\n                    _this.snackBar.open(res.message, 'Guardado', {\r\n                        duration: 3500,\r\n                    });\r\n                    _this.clean();\r\n                    _this.comp.openList();\r\n                }\r\n            }).subscribe(function (error) {\r\n                _this.loaderService.display(false);\r\n            }, function (done) {\r\n                _this.loaderService.display(false);\r\n            });\r\n        }\r\n    };\r\n    UserActionComponent.prototype.getDataById = function () {\r\n        var _this = this;\r\n        this.loaderService.display(true);\r\n        this.helperService.GET(\"/api/users/\" + this.numId)\r\n            .map(function (response) {\r\n            var res = response.json();\r\n            _this.model = res.data;\r\n            _this.refreshCompany();\r\n        }).subscribe(function (error) {\r\n            _this.loaderService.display(false);\r\n        }, function (done) {\r\n            _this.loaderService.display(false);\r\n        });\r\n    };\r\n    UserActionComponent.prototype.clean = function () {\r\n        this.model = {};\r\n        this.model.usersprivileges = [];\r\n        this.model.status = true;\r\n    };\r\n    UserActionComponent.prototype.refreshCompany = function () {\r\n        var j = 0;\r\n        for (j = 0; j < this.companies.length; j++) {\r\n            var i = 0;\r\n            for (i = 0; i < this.model.usersprivileges.length; i++) {\r\n                if (this.model.usersprivileges[i].company_id === this.companies[j].id) {\r\n                    this.companies[j].hide = true;\r\n                }\r\n                else {\r\n                    this.companies[j].hide = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    UserActionComponent.prototype.addCompany = function () {\r\n        this.model_user_company.company_id = this.model_user_company.company.id;\r\n        this.model_user_company.user_profile_id = this.model_user_company.userprofile.id;\r\n        this.model.usersprivileges.push(this.model_user_company);\r\n        this.model_user_company = {};\r\n        this.model_user_company.id = 0;\r\n        this.refreshCompany();\r\n    };\r\n    UserActionComponent.prototype.removeCompany = function (obj) {\r\n        if (obj.id > 0 && obj.company_id === this.model.company_default_id) {\r\n            this.snackBar.open('Usted no puede remover una empresa activa!', 'Error', {\r\n                duration: 3500,\r\n            });\r\n            return false;\r\n        }\r\n        var index = this.model.usersprivileges.indexOf(obj);\r\n        this.model.usersprivileges.splice(index, 1);\r\n        this.refreshCompany();\r\n    };\r\n    UserActionComponent.prototype.goList = function () {\r\n        this.comp.openList();\r\n    };\r\n    UserActionComponent = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\r\n            selector: 'user-action-cmp',\r\n            template: __webpack_require__(1524),\r\n            styles: []\r\n        }),\r\n        __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_7__shared__[\"a\" /* LoaderService */],\r\n            __WEBPACK_IMPORTED_MODULE_7__shared__[\"b\" /* HelperService */],\r\n            __WEBPACK_IMPORTED_MODULE_3__angular_material__[\"e\" /* MdSnackBar */],\r\n            __WEBPACK_IMPORTED_MODULE_4__angular_router__[\"b\" /* ActivatedRoute */],\r\n            __WEBPACK_IMPORTED_MODULE_4__angular_router__[\"a\" /* Router */],\r\n            __WEBPACK_IMPORTED_MODULE_6__users_component__[\"a\" /* UsersComponent */]])\r\n    ], UserActionComponent);\r\n    return UserActionComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_5__bases_base_model__[\"a\" /* BaseModel */]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1486:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserListComponent; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_tslib__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_startWith__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__bases_base_list__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__users_component__ = __webpack_require__(1458);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar UserListComponent = /** @class */ (function (_super) {\r\n    __WEBPACK_IMPORTED_MODULE_0_tslib__[\"c\" /* __extends */](UserListComponent, _super);\r\n    function UserListComponent(loaderService, helperService, router, comp) {\r\n        var _this = _super.call(this, loaderService, helperService) || this;\r\n        _this.loaderService = loaderService;\r\n        _this.helperService = helperService;\r\n        _this.router = router;\r\n        _this.comp = comp;\r\n        _this.urlApi = '/api/users';\r\n        return _this;\r\n    }\r\n    UserListComponent.prototype.ngOnInit = function () {\r\n        this.getAll();\r\n    };\r\n    UserListComponent.prototype.NEW = function (row) {\r\n        this.comp.openActions();\r\n        this.comp.id = undefined;\r\n    };\r\n    UserListComponent.prototype.view = function (row) {\r\n        this.comp.openActions();\r\n        this.comp.id = row.id;\r\n    };\r\n    UserListComponent = __WEBPACK_IMPORTED_MODULE_0_tslib__[\"a\" /* __decorate */]([\r\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__[\"Component\"])({\r\n            selector: 'user-list-cmp',\r\n            template: __webpack_require__(1525),\r\n            styles: []\r\n        }),\r\n        __WEBPACK_IMPORTED_MODULE_0_tslib__[\"b\" /* __metadata */](\"design:paramtypes\", [__WEBPACK_IMPORTED_MODULE_5__shared__[\"a\" /* LoaderService */],\r\n            __WEBPACK_IMPORTED_MODULE_5__shared__[\"b\" /* HelperService */],\r\n            __WEBPACK_IMPORTED_MODULE_3__angular_router__[\"a\" /* Router */],\r\n            __WEBPACK_IMPORTED_MODULE_6__users_component__[\"a\" /* UsersComponent */]])\r\n    ], UserListComponent);\r\n    return UserListComponent;\r\n}(__WEBPACK_IMPORTED_MODULE_4__bases_base_list__[\"a\" /* BaseList */]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1524:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"box-body\\\">\\r\\n\\r\\n    <!--FORM-->\\r\\n\\r\\n    <form #modelForm=\\\"ngForm\\\" autocomplete=\\\"off\\\">\\r\\n        <div class=\\\"col-sm-12 margin-bottom\\\" [class.btn-action-container]=\\\"booActive\\\">\\r\\n            <button md-raised-button color=\\\"secundary\\\" (click)=\\\"goList()\\\" class=\\\"btn-w-md no-margin-left\\\">Regresar</button>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12 margin-bottom\\\">\\r\\n            <div class=\\\"flex\\\">\\r\\n                <span class=\\\"flex-spacer\\\"></span>\\r\\n                <md-slide-toggle checked=\\\"true\\\" id=\\\"status\\\" name=\\\"status\\\" [(ngModel)]=\\\"model.status\\\"> Estado </md-slide-toggle>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input required type=\\\"text\\\" id=\\\"firstname\\\" name=\\\"firstname\\\" [(ngModel)]=\\\"model.firstname\\\" mdInput placeholder=\\\"Nombres\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input required type=\\\"text\\\" id=\\\"lastname\\\" name=\\\"lastname\\\" [(ngModel)]=\\\"model.lastname\\\" mdInput placeholder=\\\"Apellidos\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input autocomplete=\\\"nope\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" required type=\\\"text\\\" id=\\\"username\\\" name=\\\"username\\\"\\r\\n                    [(ngModel)]=\\\"model.username\\\" mdInput placeholder=\\\"Nombre de Usuario\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input autocomplete=\\\"new-password\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" [required]=\\\"!model.id\\\" [disabled]=\\\"model.id\\\"\\r\\n                    type=\\\"password\\\" id=\\\"password\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\" mdInput placeholder=\\\"Contraseña\\\"\\r\\n                    reverse=\\\"true\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input required type=\\\"email\\\" id=\\\"email\\\" name=\\\"email\\\" [(ngModel)]=\\\"model.email\\\" mdInput placeholder=\\\"Correo electrónico\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n    </form>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"box-body\\\">\\r\\n\\r\\n\\r\\n    <form #companyForm=\\\"ngForm\\\" autocomplete=\\\"off\\\">\\r\\n\\r\\n        <!-- company -->\\r\\n        <div class='col-sm-12 col-md-4 margin-bottom'>\\r\\n            <md-select required class=\\\"full-width\\\" placeholder=\\\"Empresa\\\" [(ngModel)]=\\\"model_user_company.company\\\" name=\\\"company_id\\\" id=\\\"company_id\\\">\\r\\n                <md-option *ngFor=\\\"let item of companies\\\" [value]=\\\"item\\\" [hidden]=\\\"item.hide\\\">{{item.name}}</md-option>\\r\\n            </md-select>\\r\\n        </div>\\r\\n\\r\\n        <!-- user profile -->\\r\\n        <div class='col-sm-12 col-md-4 margin-bottom'>\\r\\n            <md-select required class=\\\"full-width\\\" placeholder=\\\"Perfil de usuario\\\" [(ngModel)]=\\\"model_user_company.userprofile\\\" name=\\\"user_profile_id\\\"\\r\\n                id=\\\"user_profile_id\\\">\\r\\n                <md-option *ngFor=\\\"let item of user_profiles\\\" [value]=\\\"item\\\">{{item.up_description}}</md-option>\\r\\n            </md-select>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-4 margin-bottom\\\">\\r\\n            <div class=\\\"flex\\\">\\r\\n                <span class=\\\"flex-spacer\\\"></span>\\r\\n                <button type=\\\"button\\\" md-raised-button color=\\\"primary\\\" class=\\\"btn-w-md no-margin-left\\\" [disabled]=\\\"!companyForm.form.valid\\\"\\r\\n                    (click)=\\\"addCompany()\\\">Añadir Empresa</button>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n    </form>\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <div class=\\\"box box-default table-box table-responsive mdl-shadow--2dp\\\">\\r\\n\\r\\n            <table class=\\\"mdl-data-table table-bordered table-striped cf no-margin\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <td class=\\\"w-40\\\" *ngIf=\\\"str_action == 'Actualizar'\\\"></td>\\r\\n                        <th>Empresa</th>\\r\\n                        <th>Perfil de Usuario</th>\\r\\n                        <th class=\\\"w-40\\\"></th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let item of model.usersprivileges\\\">\\r\\n                        <td class=\\\"w-40\\\" *ngIf=\\\"str_action == 'Actualizar'\\\">\\r\\n                            <md-icon title=\\\"Registro guardado\\\" class=\\\"text-success\\\" *ngIf=\\\"item.company_id == model.company_default_id\\\">check</md-icon>\\r\\n                        </td>\\r\\n                        <td>{{ item.company?.name }}</td>\\r\\n                        <td>{{ item.userprofile?.up_description }}</td>\\r\\n\\r\\n                        <td class=\\\"w-40\\\" title=\\\"Remover empresa\\\">\\r\\n                            <button type=\\\"button\\\" md-icon-button class=\\\"text-danger\\\" (click)=\\\"removeCompany(item)\\\">\\r\\n                                <md-icon>delete</md-icon>\\r\\n                            </button>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-sm-12\\\" [class.btn-action-container]=\\\"booActive\\\">\\r\\n        <button [disabled]=\\\"action_active ? false : !modelForm.form.valid\\\" md-raised-button color=\\\"primary\\\" class=\\\"btn-w-md no-margin-left btn-right\\\"\\r\\n            (click)=\\\"save()\\\">{{str_action}}</button>\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\"\n\n/***/ }),\n\n/***/ 1525:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=\\\"box-body\\\">\\r\\n    <!-- LIST -->\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <div class=\\\"input-group mb-2 mr-sm-2 mb-sm-0\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inlineFormInputGroup\\\" placeholder=\\\"Buscar\\\" [(ngModel)]=\\\"search\\\" (keydown)=\\\"enter($event)\\\">\\r\\n                <div style=\\\"width: 34px\\\" class=\\\"input-group-addon\\\">\\r\\n                    <a style=\\\"cursor:pointer\\\" (click)=\\\"getAll()\\\">\\r\\n                        <i class=\\\"fa fa-search\\\"></i>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <button md-raised-button (click)=\\\"NEW()\\\" color=\\\"primary\\\" class=\\\"btn-w-md no-margin-left btn-right\\\">Nuevo</button>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n\\r\\n            <div class=\\\"box box-default table-box table-responsive mdl-shadow--2dp\\\">\\r\\n\\r\\n                <table class=\\\"mdl-data-table table-bordered table-striped cf no-margin\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th (click)=\\\"sort('u.id')\\\">ID\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='u.id'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('username')\\\">Nombre de Usuario\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='username'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('firstname')\\\">Nombre\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='firstname'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('up_description')\\\">Perfil de Usuario\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='up_description'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('c.name')\\\">Empresa\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='c.name'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <!--th (click)=\\\"sort('last_access')\\\">Ultimo Acceso\\r\\n                            <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='last_access'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span></th-->\\r\\n                            <th (click)=\\\"sort('u.status')\\\">Estado\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='u.status'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th></th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let item of list.data\\\">\\r\\n                            <td>{{ item.id }}</td>\\r\\n                            <td>{{ item.username }}</td>\\r\\n                            <td>{{ item.firstname + ' ' + item.lastname }}</td>\\r\\n                            <td>{{ item.user_profile }}</td>\\r\\n                            <td>{{ item.company }}</td>\\r\\n                            <!--td>{{ item.last_access }}</td-->\\r\\n                            <td>{{ item.status ? 'Activo' : 'Inactivo' }}</td>\\r\\n                            <td class=\\\"w-40\\\">\\r\\n                                <button type=\\\"button\\\" md-icon-button class=\\\"text-primary\\\" (click)=\\\"view(item)\\\">\\r\\n                                    <md-icon>mode_edit</md-icon>\\r\\n                                </button>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <ngb-pagination [pageSize]=\\\"pageSize\\\" [collectionSize]=\\\"paginationSize\\\" [(page)]=\\\"advancedPagination\\\" [maxSize]=\\\"maxSize\\\"\\r\\n                [rotate]=\\\"true\\\" [ellipses]=\\\"false\\\" [boundaryLinks]=\\\"true\\\" (pageChange)=\\\"getAll()\\\"></ngb-pagination>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n/***/ }),\n\n/***/ 1526:\n/***/ (function(module, exports) {\n\nmodule.exports = \"<section class=\\\"chapter\\\">\\r\\n    <section class=\\\"hero\\\">\\r\\n        <div class=\\\"hero-content\\\">\\r\\n            <h1 class=\\\"hero-title\\\">Usuarios</h1>\\r\\n        </div>\\r\\n        <p class=\\\"hero-tagline\\\">\\r\\n            A través de esta opción, usted podrá administrar los usuario que acceden al sistema y definir perfiles que permitan limitar\\r\\n            el uso de las vistas no autorizadas.\\r\\n        </p>\\r\\n    </section>\\r\\n    <article class=\\\"article padding-lg-v article-dark article-bordered\\\">\\r\\n        <div class=\\\"container-fluid with-maxwidth\\\">\\r\\n            <div class=\\\"box box-default\\\">\\r\\n                \\r\\n                <user-action-cmp [numId]=\\\"id\\\" *ngIf=\\\"isOpenActions\\\"></user-action-cmp>\\r\\n                <user-list-cmp *ngIf=\\\"isOpenList\\\"></user-list-cmp>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n    </article>\\r\\n</section>\"\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.c5ab6f0a90a1d6ecc714.chunk.js","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { UsersComponent } from './users.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { UserActionComponent } from './user-action/user-action.component';\r\nimport { UserListComponent } from './user-list/user-list.component';\r\n\r\nconst routes: Routes = [{ path: '', component: UsersComponent }];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(routes),\r\n        SharedModule,\r\n        NgbModule.forRoot()\r\n    ],\r\n    declarations: [\r\n        UsersComponent,\r\n        UserActionComponent,\r\n        UserListComponent\r\n    ]\r\n})\r\nexport class UsersModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/app/smartity/users/users.module.ts","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MdSnackBar } from '@angular/material';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Base } from '../bases/base';\r\n\r\n@Component({\r\n    selector: 'users-cmp',\r\n    template: require('./users.component.html'),\r\n    styles: []\r\n})\r\n\r\nexport class UsersComponent extends Base implements  OnInit{\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() { }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/app/smartity/users/users.component.ts","import { Component, OnInit, ViewChild, Output, Input, EventEmitter } from '@angular/core';\r\nimport { DataTableResource } from 'angular-4-data-table';\r\nimport { FormControl } from '@angular/forms';\r\nimport 'rxjs/add/operator/startWith';\r\nimport { MdSnackBar } from '@angular/material';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BaseModel } from '../../bases/base-model';\r\nimport { UsersComponent } from '../users.component';\r\nimport { HelperService, LoaderService } from '../../../shared';\r\nimport { Response } from '@angular/http';\r\nimport { isNullOrUndefined } from 'util';\r\n\r\n@Component({\r\n    selector: 'user-action-cmp',\r\n    template: require('./user-action.component.html'),\r\n    styles: []\r\n})\r\n\r\nexport class UserActionComponent extends BaseModel implements OnInit {\r\n\r\n\r\n    private companies: any[] = [];\r\n    private user_profiles: any[] = [];\r\n    private action_active: boolean;\r\n    private str_action: string = 'Guardar';\r\n    private model_user_company: any = {};\r\n\r\n    constructor(public loaderService: LoaderService,\r\n        public helperService: HelperService,\r\n        public snackBar: MdSnackBar,\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private comp: UsersComponent) {\r\n        super();\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.clean();\r\n        this.getUserProfiles();\r\n        this.getCompanies();\r\n\r\n        if (this.numId != undefined) {\r\n\r\n            this.str_action = 'Actualizar';\r\n            this.getDataById();\r\n        } else {\r\n            this.str_action = 'Guardar';\r\n        }\r\n    }\r\n\r\n    private getUserProfiles() {\r\n\r\n        this.helperService.GET(`/api/userprofile?all=1`).map((response: Response) => {\r\n            const res = response.json();\r\n            this.user_profiles = res.data;\r\n        }).subscribe(\r\n            (error) => {\r\n                // this.loaderService.display(false);\r\n            }, (done) => {\r\n                // this.loaderService.display(false);\r\n            });\r\n    }\r\n\r\n    private getCompanies() {\r\n        this.helperService.GET(`/api/company`)\r\n            .map((response: Response) => {\r\n                const res = response.json();\r\n                this.companies = res['data'];\r\n            }).subscribe(\r\n                (error) => {\r\n                    // this.loaderService.display(false);\r\n                }, (done) => {\r\n                    // this.loaderService.display(false);\r\n                });\r\n    }\r\n\r\n    private save() {\r\n        /** Update */\r\n        if (this.model.usersprivileges.length === 0) {\r\n            this.snackBar.open('Agregue una empresa para continuar.', 'Error', {\r\n                duration: 3500,\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if (this.numId != undefined) {\r\n\r\n            this.loaderService.display(true);\r\n            this.helperService.PUT(`/api/users/${this.numId}`, this.model)\r\n                .map((response: Response) => {\r\n\r\n                    const res = response.json();\r\n                    if (res.status === 'success') {\r\n                        this.snackBar.open(res.message, 'Actualización', {\r\n                            duration: 3500,\r\n                        });\r\n                        this.comp.openList();\r\n                    }\r\n\r\n                }).subscribe(\r\n                    (error) => {\r\n                        this.loaderService.display(false);\r\n                    }, (done) => {\r\n                        this.loaderService.display(false);\r\n                    });\r\n\r\n        } else {\r\n            /** Create */\r\n\r\n            this.loaderService.display(true);\r\n            this.helperService.POST(`/api/users`, this.model)\r\n                .map((response: Response) => {\r\n\r\n                    const res = response.json();\r\n                    if (res.status === 'success') {\r\n                        this.snackBar.open(res.message, 'Guardado', {\r\n                            duration: 3500,\r\n                        });\r\n                        this.clean();\r\n                        this.comp.openList();\r\n                    }\r\n\r\n                }).subscribe(\r\n                    (error) => {\r\n                        this.loaderService.display(false);\r\n                    }, (done) => {\r\n                        this.loaderService.display(false);\r\n                    });\r\n        }\r\n\r\n    }\r\n\r\n    private getDataById(): void {\r\n        this.loaderService.display(true);\r\n        this.helperService.GET(`/api/users/${this.numId}`)\r\n            .map((response: Response) => {\r\n\r\n                let res = response.json();\r\n                this.model = res.data;\r\n                this.refreshCompany();\r\n\r\n            }).subscribe(\r\n                (error) => {\r\n                    this.loaderService.display(false);\r\n                }, (done) => {\r\n                    this.loaderService.display(false);\r\n                });\r\n    }\r\n\r\n    private clean() {\r\n        this.model = {};\r\n        this.model.usersprivileges = [];\r\n        this.model.status = true;\r\n    }\r\n\r\n    private refreshCompany() {\r\n        let j = 0;\r\n        for (j = 0; j < this.companies.length; j++) {\r\n            let i = 0;\r\n            for (i = 0; i < this.model.usersprivileges.length; i++) {\r\n                if (this.model.usersprivileges[i].company_id === this.companies[j].id) {\r\n                    this.companies[j].hide = true;\r\n                } else {\r\n                    this.companies[j].hide = false;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private addCompany() {\r\n        this.model_user_company.company_id = this.model_user_company.company.id;\r\n        this.model_user_company.user_profile_id = this.model_user_company.userprofile.id;\r\n        this.model.usersprivileges.push(this.model_user_company);\r\n        this.model_user_company = {};\r\n        this.model_user_company.id = 0;\r\n        this.refreshCompany();\r\n    }\r\n\r\n    private removeCompany(obj: any) {\r\n\r\n        if (obj.id > 0 && obj.company_id === this.model.company_default_id) {\r\n            this.snackBar.open('Usted no puede remover una empresa activa!', 'Error', {\r\n                duration: 3500,\r\n            });\r\n\r\n            return false;\r\n        }\r\n        const index = this.model.usersprivileges.indexOf(obj);\r\n        this.model.usersprivileges.splice(index, 1);\r\n        this.refreshCompany();\r\n    }\r\n\r\n    private goList() {\r\n        this.comp.openList();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/app/smartity/users/user-action/user-action.component.ts","import { Component, OnInit, ViewChild, Output, Input, EventEmitter } from '@angular/core';\r\nimport { DataTableResource } from 'angular-4-data-table';\r\nimport { FormControl } from '@angular/forms';\r\nimport 'rxjs/add/operator/startWith';\r\nimport { AuthenticationService } from '../../../auth/authentication.service';\r\nimport { MdSnackBar } from '@angular/material';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BaseList } from '../../bases/base-list';\r\nimport { LoaderService, HelperService } from '../../../shared';\r\nimport { UsersComponent } from '../users.component';\r\n\r\n@Component({\r\n    selector: 'user-list-cmp',\r\n    template: require('./user-list.component.html'),\r\n    styles: []\r\n})\r\n\r\nexport class UserListComponent extends BaseList implements OnInit {\r\n\r\n    constructor(public loaderService: LoaderService,\r\n        public helperService: HelperService,\r\n        public router: Router,\r\n        private comp: UsersComponent) {\r\n        super(loaderService, helperService);\r\n        this.urlApi = '/api/users';\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getAll();\r\n    }\r\n\r\n    private NEW(row: any) {\r\n        this.comp.openActions();\r\n        this.comp.id = undefined;\r\n    }\r\n\r\n    private view(row: any) {\r\n        this.comp.openActions();\r\n        this.comp.id = row.id;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./src/app/smartity/users/user-list/user-list.component.ts","module.exports = \"<div class=\\\"box-body\\\">\\r\\n\\r\\n    <!--FORM-->\\r\\n\\r\\n    <form #modelForm=\\\"ngForm\\\" autocomplete=\\\"off\\\">\\r\\n        <div class=\\\"col-sm-12 margin-bottom\\\" [class.btn-action-container]=\\\"booActive\\\">\\r\\n            <button md-raised-button color=\\\"secundary\\\" (click)=\\\"goList()\\\" class=\\\"btn-w-md no-margin-left\\\">Regresar</button>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12 margin-bottom\\\">\\r\\n            <div class=\\\"flex\\\">\\r\\n                <span class=\\\"flex-spacer\\\"></span>\\r\\n                <md-slide-toggle checked=\\\"true\\\" id=\\\"status\\\" name=\\\"status\\\" [(ngModel)]=\\\"model.status\\\"> Estado </md-slide-toggle>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input required type=\\\"text\\\" id=\\\"firstname\\\" name=\\\"firstname\\\" [(ngModel)]=\\\"model.firstname\\\" mdInput placeholder=\\\"Nombres\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input required type=\\\"text\\\" id=\\\"lastname\\\" name=\\\"lastname\\\" [(ngModel)]=\\\"model.lastname\\\" mdInput placeholder=\\\"Apellidos\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input autocomplete=\\\"nope\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" required type=\\\"text\\\" id=\\\"username\\\" name=\\\"username\\\"\\r\\n                    [(ngModel)]=\\\"model.username\\\" mdInput placeholder=\\\"Nombre de Usuario\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input autocomplete=\\\"new-password\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" [required]=\\\"!model.id\\\" [disabled]=\\\"model.id\\\"\\r\\n                    type=\\\"password\\\" id=\\\"password\\\" name=\\\"password\\\" [(ngModel)]=\\\"model.password\\\" mdInput placeholder=\\\"Contraseña\\\"\\r\\n                    reverse=\\\"true\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-6 margin-bottom\\\">\\r\\n            <md-input-container class=\\\"full-width\\\">\\r\\n                <input required type=\\\"email\\\" id=\\\"email\\\" name=\\\"email\\\" [(ngModel)]=\\\"model.email\\\" mdInput placeholder=\\\"Correo electrónico\\\">\\r\\n            </md-input-container>\\r\\n        </div>\\r\\n\\r\\n\\r\\n\\r\\n    </form>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n<div class=\\\"box-body\\\">\\r\\n\\r\\n\\r\\n    <form #companyForm=\\\"ngForm\\\" autocomplete=\\\"off\\\">\\r\\n\\r\\n        <!-- company -->\\r\\n        <div class='col-sm-12 col-md-4 margin-bottom'>\\r\\n            <md-select required class=\\\"full-width\\\" placeholder=\\\"Empresa\\\" [(ngModel)]=\\\"model_user_company.company\\\" name=\\\"company_id\\\" id=\\\"company_id\\\">\\r\\n                <md-option *ngFor=\\\"let item of companies\\\" [value]=\\\"item\\\" [hidden]=\\\"item.hide\\\">{{item.name}}</md-option>\\r\\n            </md-select>\\r\\n        </div>\\r\\n\\r\\n        <!-- user profile -->\\r\\n        <div class='col-sm-12 col-md-4 margin-bottom'>\\r\\n            <md-select required class=\\\"full-width\\\" placeholder=\\\"Perfil de usuario\\\" [(ngModel)]=\\\"model_user_company.userprofile\\\" name=\\\"user_profile_id\\\"\\r\\n                id=\\\"user_profile_id\\\">\\r\\n                <md-option *ngFor=\\\"let item of user_profiles\\\" [value]=\\\"item\\\">{{item.up_description}}</md-option>\\r\\n            </md-select>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12 col-md-4 margin-bottom\\\">\\r\\n            <div class=\\\"flex\\\">\\r\\n                <span class=\\\"flex-spacer\\\"></span>\\r\\n                <button type=\\\"button\\\" md-raised-button color=\\\"primary\\\" class=\\\"btn-w-md no-margin-left\\\" [disabled]=\\\"!companyForm.form.valid\\\"\\r\\n                    (click)=\\\"addCompany()\\\">Añadir Empresa</button>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n    </form>\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <div class=\\\"box box-default table-box table-responsive mdl-shadow--2dp\\\">\\r\\n\\r\\n            <table class=\\\"mdl-data-table table-bordered table-striped cf no-margin\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <td class=\\\"w-40\\\" *ngIf=\\\"str_action == 'Actualizar'\\\"></td>\\r\\n                        <th>Empresa</th>\\r\\n                        <th>Perfil de Usuario</th>\\r\\n                        <th class=\\\"w-40\\\"></th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                    <tr *ngFor=\\\"let item of model.usersprivileges\\\">\\r\\n                        <td class=\\\"w-40\\\" *ngIf=\\\"str_action == 'Actualizar'\\\">\\r\\n                            <md-icon title=\\\"Registro guardado\\\" class=\\\"text-success\\\" *ngIf=\\\"item.company_id == model.company_default_id\\\">check</md-icon>\\r\\n                        </td>\\r\\n                        <td>{{ item.company?.name }}</td>\\r\\n                        <td>{{ item.userprofile?.up_description }}</td>\\r\\n\\r\\n                        <td class=\\\"w-40\\\" title=\\\"Remover empresa\\\">\\r\\n                            <button type=\\\"button\\\" md-icon-button class=\\\"text-danger\\\" (click)=\\\"removeCompany(item)\\\">\\r\\n                                <md-icon>delete</md-icon>\\r\\n                            </button>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-sm-12\\\" [class.btn-action-container]=\\\"booActive\\\">\\r\\n        <button [disabled]=\\\"action_active ? false : !modelForm.form.valid\\\" md-raised-button color=\\\"primary\\\" class=\\\"btn-w-md no-margin-left btn-right\\\"\\r\\n            (click)=\\\"save()\\\">{{str_action}}</button>\\r\\n    </div>\\r\\n\\r\\n\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/smartity/users/user-action/user-action.component.html\n// module id = 1524\n// module chunks = 2","module.exports = \"<div class=\\\"box-body\\\">\\r\\n    <!-- LIST -->\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <div class=\\\"input-group mb-2 mr-sm-2 mb-sm-0\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inlineFormInputGroup\\\" placeholder=\\\"Buscar\\\" [(ngModel)]=\\\"search\\\" (keydown)=\\\"enter($event)\\\">\\r\\n                <div style=\\\"width: 34px\\\" class=\\\"input-group-addon\\\">\\r\\n                    <a style=\\\"cursor:pointer\\\" (click)=\\\"getAll()\\\">\\r\\n                        <i class=\\\"fa fa-search\\\"></i>\\r\\n                    </a>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6\\\">\\r\\n            <button md-raised-button (click)=\\\"NEW()\\\" color=\\\"primary\\\" class=\\\"btn-w-md no-margin-left btn-right\\\">Nuevo</button>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n\\r\\n            <div class=\\\"box box-default table-box table-responsive mdl-shadow--2dp\\\">\\r\\n\\r\\n                <table class=\\\"mdl-data-table table-bordered table-striped cf no-margin\\\">\\r\\n                    <thead>\\r\\n                        <tr>\\r\\n                            <th (click)=\\\"sort('u.id')\\\">ID\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='u.id'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('username')\\\">Nombre de Usuario\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='username'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('firstname')\\\">Nombre\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='firstname'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('up_description')\\\">Perfil de Usuario\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='up_description'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th (click)=\\\"sort('c.name')\\\">Empresa\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='c.name'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <!--th (click)=\\\"sort('last_access')\\\">Ultimo Acceso\\r\\n                            <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='last_access'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span></th-->\\r\\n                            <th (click)=\\\"sort('u.status')\\\">Estado\\r\\n                                <span class=\\\"glyphicon sort-icon\\\" *ngIf=\\\"key =='u.status'\\\" [ngClass]=\\\"{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}\\\"></span>\\r\\n                            </th>\\r\\n                            <th></th>\\r\\n                        </tr>\\r\\n                    </thead>\\r\\n                    <tbody>\\r\\n                        <tr *ngFor=\\\"let item of list.data\\\">\\r\\n                            <td>{{ item.id }}</td>\\r\\n                            <td>{{ item.username }}</td>\\r\\n                            <td>{{ item.firstname + ' ' + item.lastname }}</td>\\r\\n                            <td>{{ item.user_profile }}</td>\\r\\n                            <td>{{ item.company }}</td>\\r\\n                            <!--td>{{ item.last_access }}</td-->\\r\\n                            <td>{{ item.status ? 'Activo' : 'Inactivo' }}</td>\\r\\n                            <td class=\\\"w-40\\\">\\r\\n                                <button type=\\\"button\\\" md-icon-button class=\\\"text-primary\\\" (click)=\\\"view(item)\\\">\\r\\n                                    <md-icon>mode_edit</md-icon>\\r\\n                                </button>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <ngb-pagination [pageSize]=\\\"pageSize\\\" [collectionSize]=\\\"paginationSize\\\" [(page)]=\\\"advancedPagination\\\" [maxSize]=\\\"maxSize\\\"\\r\\n                [rotate]=\\\"true\\\" [ellipses]=\\\"false\\\" [boundaryLinks]=\\\"true\\\" (pageChange)=\\\"getAll()\\\"></ngb-pagination>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/smartity/users/user-list/user-list.component.html\n// module id = 1525\n// module chunks = 2","module.exports = \"<section class=\\\"chapter\\\">\\r\\n    <section class=\\\"hero\\\">\\r\\n        <div class=\\\"hero-content\\\">\\r\\n            <h1 class=\\\"hero-title\\\">Usuarios</h1>\\r\\n        </div>\\r\\n        <p class=\\\"hero-tagline\\\">\\r\\n            A través de esta opción, usted podrá administrar los usuario que acceden al sistema y definir perfiles que permitan limitar\\r\\n            el uso de las vistas no autorizadas.\\r\\n        </p>\\r\\n    </section>\\r\\n    <article class=\\\"article padding-lg-v article-dark article-bordered\\\">\\r\\n        <div class=\\\"container-fluid with-maxwidth\\\">\\r\\n            <div class=\\\"box box-default\\\">\\r\\n                \\r\\n                <user-action-cmp [numId]=\\\"id\\\" *ngIf=\\\"isOpenActions\\\"></user-action-cmp>\\r\\n                <user-list-cmp *ngIf=\\\"isOpenList\\\"></user-list-cmp>\\r\\n\\r\\n            </div>\\r\\n        </div>\\r\\n    </article>\\r\\n</section>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/smartity/users/users.component.html\n// module id = 1526\n// module chunks = 2"],"sourceRoot":""}